(function(B,fe){typeof exports=="object"&&typeof module!="undefined"?fe(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],fe):(B=typeof globalThis!="undefined"?globalThis:B||self,fe(B.Vue3FormJsonSchema={},B.Vue))})(this,function(B,fe){"use strict";var my=Object.defineProperty,vy=Object.defineProperties;var gy=Object.getOwnPropertyDescriptors;var vn=Object.getOwnPropertySymbols;var po=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable;var ho=(B,fe,_e)=>fe in B?my(B,fe,{enumerable:!0,configurable:!0,writable:!0,value:_e}):B[fe]=_e,D=(B,fe)=>{for(var _e in fe||(fe={}))po.call(fe,_e)&&ho(B,_e,fe[_e]);if(vn)for(var _e of vn(fe))mo.call(fe,_e)&&ho(B,_e,fe[_e]);return B},ue=(B,fe)=>vy(B,gy(fe));var At=(B,fe)=>{var _e={};for(var Oe in B)po.call(B,Oe)&&fe.indexOf(Oe)<0&&(_e[Oe]=B[Oe]);if(B!=null&&vn)for(var Oe of vn(B))fe.indexOf(Oe)<0&&mo.call(B,Oe)&&(_e[Oe]=B[Oe]);return _e};var _e=typeof global=="object"&&global&&global.Object===Object&&global,Oe=_e,vo=typeof self=="object"&&self&&self.Object===Object&&self,go=Oe||vo||Function("return this")(),Re=go,yo=Re.Symbol,De=yo,Xs=Object.prototype,$o=Xs.hasOwnProperty,_o=Xs.toString,Yt=De?De.toStringTag:void 0;function jo(e){var t=$o.call(e,Yt),r=e[Yt];try{e[Yt]=void 0;var n=!0}catch{}var s=_o.call(e);return n&&(t?e[Yt]=r:delete e[Yt]),s}var Eo=Object.prototype,bo=Eo.toString;function So(e){return bo.call(e)}var wo="[object Null]",Po="[object Undefined]",Ws=De?De.toStringTag:void 0;function ht(e){return e==null?e===void 0?Po:wo:Ws&&Ws in Object(e)?jo(e):So(e)}function He(e){return e!=null&&typeof e=="object"}var Oo="[object Symbol]";function gn(e){return typeof e=="symbol"||He(e)&&ht(e)==Oo}function To(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var Fo=Array.isArray,Ue=Fo,Ao=1/0,Ys=De?De.prototype:void 0,Qs=Ys?Ys.toString:void 0;function Zs(e){if(typeof e=="string")return e;if(Ue(e))return To(e,Zs)+"";if(gn(e))return Qs?Qs.call(e):"";var t=e+"";return t=="0"&&1/e==-Ao?"-0":t}function Le(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function xs(e){return e}var Co="[object AsyncFunction]",Vo="[object Function]",Mo="[object GeneratorFunction]",No="[object Proxy]";function yn(e){if(!Le(e))return!1;var t=ht(e);return t==Vo||t==Mo||t==Co||t==No}var Io=Re["__core-js_shared__"],$n=Io,ei=function(){var e=/[^.]+$/.exec($n&&$n.keys&&$n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ro(e){return!!ei&&ei in e}var Do=Function.prototype,Ho=Do.toString;function pt(e){if(e!=null){try{return Ho.call(e)}catch{}try{return e+""}catch{}}return""}var Uo=/[\\^$.*+?()[\]{}|]/g,Lo=/^\[object .+?Constructor\]$/,ko=Function.prototype,qo=Object.prototype,zo=ko.toString,Ko=qo.hasOwnProperty,Go=RegExp("^"+zo.call(Ko).replace(Uo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bo(e){if(!Le(e)||Ro(e))return!1;var t=yn(e)?Go:Lo;return t.test(pt(e))}function Jo(e,t){return e==null?void 0:e[t]}function mt(e,t){var r=Jo(e,t);return Bo(r)?r:void 0}var Xo=mt(Re,"WeakMap"),_n=Xo,ti=Object.create,Wo=function(){function e(){}return function(t){if(!Le(t))return{};if(ti)return ti(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Yo=Wo;function Qo(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function ri(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Zo=800,xo=16,el=Date.now;function tl(e){var t=0,r=0;return function(){var n=el(),s=xo-(n-r);if(r=n,s>0){if(++t>=Zo)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function rl(e){return function(){return e}}var nl=function(){try{var e=mt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Mr=nl,sl=Mr?function(e,t){return Mr(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:xs,il=sl,al=tl(il),ol=al;function ll(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var cl=9007199254740991,ul=/^(?:0|[1-9]\d*)$/;function jn(e,t){var r=typeof e;return t=t==null?cl:t,!!t&&(r=="number"||r!="symbol"&&ul.test(e))&&e>-1&&e%1==0&&e<t}function En(e,t,r){t=="__proto__"&&Mr?Mr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function Qt(e,t){return e===t||e!==e&&t!==t}var fl=Object.prototype,dl=fl.hasOwnProperty;function bn(e,t,r){var n=e[t];(!(dl.call(e,t)&&Qt(n,r))||r===void 0&&!(t in e))&&En(e,t,r)}function Zt(e,t,r,n){var s=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),s?En(r,l,u):bn(r,l,u)}return r}var ni=Math.max;function hl(e,t,r){return t=ni(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=ni(n.length-t,0),a=Array(i);++s<i;)a[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(a),Qo(e,this,l)}}function pl(e,t){return ol(hl(e,t,xs),e+"")}var ml=9007199254740991;function si(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ml}function Nr(e){return e!=null&&si(e.length)&&!yn(e)}function vl(e,t,r){if(!Le(r))return!1;var n=typeof t;return(n=="number"?Nr(r)&&jn(t,r.length):n=="string"&&t in r)?Qt(r[t],e):!1}function gl(e){return pl(function(t,r){var n=-1,s=r.length,i=s>1?r[s-1]:void 0,a=s>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(s--,i):void 0,a&&vl(r[0],r[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++n<s;){var l=r[n];l&&e(t,l,n,i)}return t})}var yl=Object.prototype;function Sn(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||yl;return e===r}function $l(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _l="[object Arguments]";function ii(e){return He(e)&&ht(e)==_l}var ai=Object.prototype,jl=ai.hasOwnProperty,El=ai.propertyIsEnumerable,bl=ii(function(){return arguments}())?ii:function(e){return He(e)&&jl.call(e,"callee")&&!El.call(e,"callee")},wn=bl;function Sl(){return!1}var oi=typeof B=="object"&&B&&!B.nodeType&&B,li=oi&&typeof module=="object"&&module&&!module.nodeType&&module,wl=li&&li.exports===oi,ci=wl?Re.Buffer:void 0,Pl=ci?ci.isBuffer:void 0,Ol=Pl||Sl,xt=Ol,Tl="[object Arguments]",Fl="[object Array]",Al="[object Boolean]",Cl="[object Date]",Vl="[object Error]",Ml="[object Function]",Nl="[object Map]",Il="[object Number]",Rl="[object Object]",Dl="[object RegExp]",Hl="[object Set]",Ul="[object String]",Ll="[object WeakMap]",kl="[object ArrayBuffer]",ql="[object DataView]",zl="[object Float32Array]",Kl="[object Float64Array]",Gl="[object Int8Array]",Bl="[object Int16Array]",Jl="[object Int32Array]",Xl="[object Uint8Array]",Wl="[object Uint8ClampedArray]",Yl="[object Uint16Array]",Ql="[object Uint32Array]",se={};se[zl]=se[Kl]=se[Gl]=se[Bl]=se[Jl]=se[Xl]=se[Wl]=se[Yl]=se[Ql]=!0,se[Tl]=se[Fl]=se[kl]=se[Al]=se[ql]=se[Cl]=se[Vl]=se[Ml]=se[Nl]=se[Il]=se[Rl]=se[Dl]=se[Hl]=se[Ul]=se[Ll]=!1;function Zl(e){return He(e)&&si(e.length)&&!!se[ht(e)]}function Pn(e){return function(t){return e(t)}}var ui=typeof B=="object"&&B&&!B.nodeType&&B,er=ui&&typeof module=="object"&&module&&!module.nodeType&&module,xl=er&&er.exports===ui,On=xl&&Oe.process,ec=function(){try{var e=er&&er.require&&er.require("util").types;return e||On&&On.binding&&On.binding("util")}catch{}}(),Ct=ec,fi=Ct&&Ct.isTypedArray,tc=fi?Pn(fi):Zl,Tn=tc,rc=Object.prototype,nc=rc.hasOwnProperty;function di(e,t){var r=Ue(e),n=!r&&wn(e),s=!r&&!n&&xt(e),i=!r&&!n&&!s&&Tn(e),a=r||n||s||i,l=a?$l(e.length,String):[],u=l.length;for(var f in e)(t||nc.call(e,f))&&!(a&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||jn(f,u)))&&l.push(f);return l}function hi(e,t){return function(r){return e(t(r))}}var sc=hi(Object.keys,Object),ic=sc,ac=Object.prototype,oc=ac.hasOwnProperty;function lc(e){if(!Sn(e))return ic(e);var t=[];for(var r in Object(e))oc.call(e,r)&&r!="constructor"&&t.push(r);return t}function Fn(e){return Nr(e)?di(e):lc(e)}function cc(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var uc=Object.prototype,fc=uc.hasOwnProperty;function dc(e){if(!Le(e))return cc(e);var t=Sn(e),r=[];for(var n in e)n=="constructor"&&(t||!fc.call(e,n))||r.push(n);return r}function tr(e){return Nr(e)?di(e,!0):dc(e)}var hc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pc=/^\w*$/;function mc(e,t){if(Ue(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||gn(e)?!0:pc.test(e)||!hc.test(e)||t!=null&&e in Object(t)}var vc=mt(Object,"create"),rr=vc;function gc(){this.__data__=rr?rr(null):{},this.size=0}function yc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $c="__lodash_hash_undefined__",_c=Object.prototype,jc=_c.hasOwnProperty;function Ec(e){var t=this.__data__;if(rr){var r=t[e];return r===$c?void 0:r}return jc.call(t,e)?t[e]:void 0}var bc=Object.prototype,Sc=bc.hasOwnProperty;function wc(e){var t=this.__data__;return rr?t[e]!==void 0:Sc.call(t,e)}var Pc="__lodash_hash_undefined__";function Oc(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rr&&t===void 0?Pc:t,this}function vt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vt.prototype.clear=gc,vt.prototype.delete=yc,vt.prototype.get=Ec,vt.prototype.has=wc,vt.prototype.set=Oc;function Tc(){this.__data__=[],this.size=0}function Ir(e,t){for(var r=e.length;r--;)if(Qt(e[r][0],t))return r;return-1}var Fc=Array.prototype,Ac=Fc.splice;function Cc(e){var t=this.__data__,r=Ir(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ac.call(t,r,1),--this.size,!0}function Vc(e){var t=this.__data__,r=Ir(t,e);return r<0?void 0:t[r][1]}function Mc(e){return Ir(this.__data__,e)>-1}function Nc(e,t){var r=this.__data__,n=Ir(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function Qe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qe.prototype.clear=Tc,Qe.prototype.delete=Cc,Qe.prototype.get=Vc,Qe.prototype.has=Mc,Qe.prototype.set=Nc;var Ic=mt(Re,"Map"),nr=Ic;function Rc(){this.size=0,this.__data__={hash:new vt,map:new(nr||Qe),string:new vt}}function Dc(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Rr(e,t){var r=e.__data__;return Dc(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Hc(e){var t=Rr(this,e).delete(e);return this.size-=t?1:0,t}function Uc(e){return Rr(this,e).get(e)}function Lc(e){return Rr(this,e).has(e)}function kc(e,t){var r=Rr(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Ze(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ze.prototype.clear=Rc,Ze.prototype.delete=Hc,Ze.prototype.get=Uc,Ze.prototype.has=Lc,Ze.prototype.set=kc;var qc="Expected a function";function An(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qc);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var a=e.apply(this,n);return r.cache=i.set(s,a)||i,a};return r.cache=new(An.Cache||Ze),r}An.Cache=Ze;var zc=500;function Kc(e){var t=An(e,function(n){return r.size===zc&&r.clear(),n}),r=t.cache;return t}var Gc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bc=/\\(\\)?/g,Jc=Kc(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gc,function(r,n,s,i){t.push(s?i.replace(Bc,"$1"):n||r)}),t}),Xc=Jc;function Wc(e){return e==null?"":Zs(e)}function pi(e,t){return Ue(e)?e:mc(e,t)?[e]:Xc(Wc(e))}var Yc=1/0;function mi(e){if(typeof e=="string"||gn(e))return e;var t=e+"";return t=="0"&&1/e==-Yc?"-0":t}function Qc(e,t){t=pi(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[mi(t[r++])];return r&&r==n?e:void 0}function st(e,t,r){var n=e==null?void 0:Qc(e,t);return n===void 0?r:n}function vi(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Zc=hi(Object.getPrototypeOf,Object),Cn=Zc,xc="[object Object]",eu=Function.prototype,tu=Object.prototype,gi=eu.toString,ru=tu.hasOwnProperty,nu=gi.call(Object);function su(e){if(!He(e)||ht(e)!=xc)return!1;var t=Cn(e);if(t===null)return!0;var r=ru.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&gi.call(r)==nu}function iu(){this.__data__=new Qe,this.size=0}function au(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ou(e){return this.__data__.get(e)}function lu(e){return this.__data__.has(e)}var cu=200;function uu(e,t){var r=this.__data__;if(r instanceof Qe){var n=r.__data__;if(!nr||n.length<cu-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ze(n)}return r.set(e,t),this.size=r.size,this}function ke(e){var t=this.__data__=new Qe(e);this.size=t.size}ke.prototype.clear=iu,ke.prototype.delete=au,ke.prototype.get=ou,ke.prototype.has=lu,ke.prototype.set=uu;function fu(e,t){return e&&Zt(t,Fn(t),e)}function du(e,t){return e&&Zt(t,tr(t),e)}var yi=typeof B=="object"&&B&&!B.nodeType&&B,$i=yi&&typeof module=="object"&&module&&!module.nodeType&&module,hu=$i&&$i.exports===yi,_i=hu?Re.Buffer:void 0,ji=_i?_i.allocUnsafe:void 0;function Ei(e,t){if(t)return e.slice();var r=e.length,n=ji?ji(r):new e.constructor(r);return e.copy(n),n}function pu(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[s++]=a)}return i}function bi(){return[]}var mu=Object.prototype,vu=mu.propertyIsEnumerable,Si=Object.getOwnPropertySymbols,gu=Si?function(e){return e==null?[]:(e=Object(e),pu(Si(e),function(t){return vu.call(e,t)}))}:bi,Vn=gu;function yu(e,t){return Zt(e,Vn(e),t)}var $u=Object.getOwnPropertySymbols,_u=$u?function(e){for(var t=[];e;)vi(t,Vn(e)),e=Cn(e);return t}:bi,wi=_u;function ju(e,t){return Zt(e,wi(e),t)}function Pi(e,t,r){var n=t(e);return Ue(e)?n:vi(n,r(e))}function Mn(e){return Pi(e,Fn,Vn)}function Eu(e){return Pi(e,tr,wi)}var bu=mt(Re,"DataView"),Nn=bu,Su=mt(Re,"Promise"),In=Su,wu=mt(Re,"Set"),Rn=wu,Oi="[object Map]",Pu="[object Object]",Ti="[object Promise]",Fi="[object Set]",Ai="[object WeakMap]",Ci="[object DataView]",Ou=pt(Nn),Tu=pt(nr),Fu=pt(In),Au=pt(Rn),Cu=pt(_n),gt=ht;(Nn&&gt(new Nn(new ArrayBuffer(1)))!=Ci||nr&&gt(new nr)!=Oi||In&&gt(In.resolve())!=Ti||Rn&&gt(new Rn)!=Fi||_n&&gt(new _n)!=Ai)&&(gt=function(e){var t=ht(e),r=t==Pu?e.constructor:void 0,n=r?pt(r):"";if(n)switch(n){case Ou:return Ci;case Tu:return Oi;case Fu:return Ti;case Au:return Fi;case Cu:return Ai}return t});var sr=gt,Vu=Object.prototype,Mu=Vu.hasOwnProperty;function Nu(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&Mu.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Iu=Re.Uint8Array,Dr=Iu;function Dn(e){var t=new e.constructor(e.byteLength);return new Dr(t).set(new Dr(e)),t}function Ru(e,t){var r=t?Dn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var Du=/\w*$/;function Hu(e){var t=new e.constructor(e.source,Du.exec(e));return t.lastIndex=e.lastIndex,t}var Vi=De?De.prototype:void 0,Mi=Vi?Vi.valueOf:void 0;function Uu(e){return Mi?Object(Mi.call(e)):{}}function Ni(e,t){var r=t?Dn(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Lu="[object Boolean]",ku="[object Date]",qu="[object Map]",zu="[object Number]",Ku="[object RegExp]",Gu="[object Set]",Bu="[object String]",Ju="[object Symbol]",Xu="[object ArrayBuffer]",Wu="[object DataView]",Yu="[object Float32Array]",Qu="[object Float64Array]",Zu="[object Int8Array]",xu="[object Int16Array]",ef="[object Int32Array]",tf="[object Uint8Array]",rf="[object Uint8ClampedArray]",nf="[object Uint16Array]",sf="[object Uint32Array]";function af(e,t,r){var n=e.constructor;switch(t){case Xu:return Dn(e);case Lu:case ku:return new n(+e);case Wu:return Ru(e,r);case Yu:case Qu:case Zu:case xu:case ef:case tf:case rf:case nf:case sf:return Ni(e,r);case qu:return new n;case zu:case Bu:return new n(e);case Ku:return Hu(e);case Gu:return new n;case Ju:return Uu(e)}}function Ii(e){return typeof e.constructor=="function"&&!Sn(e)?Yo(Cn(e)):{}}var of="[object Map]";function lf(e){return He(e)&&sr(e)==of}var Ri=Ct&&Ct.isMap,cf=Ri?Pn(Ri):lf,uf=cf,ff="[object Set]";function df(e){return He(e)&&sr(e)==ff}var Di=Ct&&Ct.isSet,hf=Di?Pn(Di):df,pf=hf,mf=1,vf=2,gf=4,Hi="[object Arguments]",yf="[object Array]",$f="[object Boolean]",_f="[object Date]",jf="[object Error]",Ui="[object Function]",Ef="[object GeneratorFunction]",bf="[object Map]",Sf="[object Number]",Li="[object Object]",wf="[object RegExp]",Pf="[object Set]",Of="[object String]",Tf="[object Symbol]",Ff="[object WeakMap]",Af="[object ArrayBuffer]",Cf="[object DataView]",Vf="[object Float32Array]",Mf="[object Float64Array]",Nf="[object Int8Array]",If="[object Int16Array]",Rf="[object Int32Array]",Df="[object Uint8Array]",Hf="[object Uint8ClampedArray]",Uf="[object Uint16Array]",Lf="[object Uint32Array]",re={};re[Hi]=re[yf]=re[Af]=re[Cf]=re[$f]=re[_f]=re[Vf]=re[Mf]=re[Nf]=re[If]=re[Rf]=re[bf]=re[Sf]=re[Li]=re[wf]=re[Pf]=re[Of]=re[Tf]=re[Df]=re[Hf]=re[Uf]=re[Lf]=!0,re[jf]=re[Ui]=re[Ff]=!1;function Hr(e,t,r,n,s,i){var a,l=t&mf,u=t&vf,f=t&gf;if(r&&(a=s?r(e,n,s,i):r(e)),a!==void 0)return a;if(!Le(e))return e;var d=Ue(e);if(d){if(a=Nu(e),!l)return ri(e,a)}else{var g=sr(e),O=g==Ui||g==Ef;if(xt(e))return Ei(e,l);if(g==Li||g==Hi||O&&!s){if(a=u||O?{}:Ii(e),!l)return u?ju(e,du(a,e)):yu(e,fu(a,e))}else{if(!re[g])return s?e:{};a=af(e,g,l)}}i||(i=new ke);var A=i.get(e);if(A)return A;i.set(e,a),pf(e)?e.forEach(function(y){a.add(Hr(y,t,r,y,e,i))}):uf(e)&&e.forEach(function(y,h){a.set(h,Hr(y,t,r,h,e,i))});var _=f?u?Eu:Mn:u?tr:Fn,j=d?void 0:_(e);return ll(j||e,function(y,h){j&&(h=y,y=e[h]),bn(a,h,Hr(y,t,r,h,e,i))}),a}var kf=1,qf=4;function Ur(e){return Hr(e,kf|qf)}var zf="__lodash_hash_undefined__";function Kf(e){return this.__data__.set(e,zf),this}function Gf(e){return this.__data__.has(e)}function Lr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ze;++t<r;)this.add(e[t])}Lr.prototype.add=Lr.prototype.push=Kf,Lr.prototype.has=Gf;function Bf(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Jf(e,t){return e.has(t)}var Xf=1,Wf=2;function ki(e,t,r,n,s,i){var a=r&Xf,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var f=i.get(e),d=i.get(t);if(f&&d)return f==t&&d==e;var g=-1,O=!0,A=r&Wf?new Lr:void 0;for(i.set(e,t),i.set(t,e);++g<l;){var _=e[g],j=t[g];if(n)var y=a?n(j,_,g,t,e,i):n(_,j,g,e,t,i);if(y!==void 0){if(y)continue;O=!1;break}if(A){if(!Bf(t,function(h,E){if(!Jf(A,E)&&(_===h||s(_,h,r,n,i)))return A.push(E)})){O=!1;break}}else if(!(_===j||s(_,j,r,n,i))){O=!1;break}}return i.delete(e),i.delete(t),O}function Yf(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Qf(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Zf=1,xf=2,ed="[object Boolean]",td="[object Date]",rd="[object Error]",nd="[object Map]",sd="[object Number]",id="[object RegExp]",ad="[object Set]",od="[object String]",ld="[object Symbol]",cd="[object ArrayBuffer]",ud="[object DataView]",qi=De?De.prototype:void 0,Hn=qi?qi.valueOf:void 0;function fd(e,t,r,n,s,i,a){switch(r){case ud:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cd:return!(e.byteLength!=t.byteLength||!i(new Dr(e),new Dr(t)));case ed:case td:case sd:return Qt(+e,+t);case rd:return e.name==t.name&&e.message==t.message;case id:case od:return e==t+"";case nd:var l=Yf;case ad:var u=n&Zf;if(l||(l=Qf),e.size!=t.size&&!u)return!1;var f=a.get(e);if(f)return f==t;n|=xf,a.set(e,t);var d=ki(l(e),l(t),n,s,i,a);return a.delete(e),d;case ld:if(Hn)return Hn.call(e)==Hn.call(t)}return!1}var dd=1,hd=Object.prototype,pd=hd.hasOwnProperty;function md(e,t,r,n,s,i){var a=r&dd,l=Mn(e),u=l.length,f=Mn(t),d=f.length;if(u!=d&&!a)return!1;for(var g=u;g--;){var O=l[g];if(!(a?O in t:pd.call(t,O)))return!1}var A=i.get(e),_=i.get(t);if(A&&_)return A==t&&_==e;var j=!0;i.set(e,t),i.set(t,e);for(var y=a;++g<u;){O=l[g];var h=e[O],E=t[O];if(n)var T=a?n(E,h,O,t,e,i):n(h,E,O,e,t,i);if(!(T===void 0?h===E||s(h,E,r,n,i):T)){j=!1;break}y||(y=O=="constructor")}if(j&&!y){var V=e.constructor,N=t.constructor;V!=N&&"constructor"in e&&"constructor"in t&&!(typeof V=="function"&&V instanceof V&&typeof N=="function"&&N instanceof N)&&(j=!1)}return i.delete(e),i.delete(t),j}var vd=1,zi="[object Arguments]",Ki="[object Array]",kr="[object Object]",gd=Object.prototype,Gi=gd.hasOwnProperty;function yd(e,t,r,n,s,i){var a=Ue(e),l=Ue(t),u=a?Ki:sr(e),f=l?Ki:sr(t);u=u==zi?kr:u,f=f==zi?kr:f;var d=u==kr,g=f==kr,O=u==f;if(O&&xt(e)){if(!xt(t))return!1;a=!0,d=!1}if(O&&!d)return i||(i=new ke),a||Tn(e)?ki(e,t,r,n,s,i):fd(e,t,u,r,n,s,i);if(!(r&vd)){var A=d&&Gi.call(e,"__wrapped__"),_=g&&Gi.call(t,"__wrapped__");if(A||_){var j=A?e.value():e,y=_?t.value():t;return i||(i=new ke),s(j,y,r,n,i)}}return O?(i||(i=new ke),md(e,t,r,n,s,i)):!1}function Bi(e,t,r,n,s){return e===t?!0:e==null||t==null||!He(e)&&!He(t)?e!==e&&t!==t:yd(e,t,r,n,Bi,s)}function $d(e){return function(t,r,n){for(var s=-1,i=Object(t),a=n(t),l=a.length;l--;){var u=a[e?l:++s];if(r(i[u],u,i)===!1)break}return t}}var _d=$d(),jd=_d;function Un(e,t,r){(r!==void 0&&!Qt(e[t],r)||r===void 0&&!(t in e))&&En(e,t,r)}function Ed(e){return He(e)&&Nr(e)}function Ln(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function bd(e){return Zt(e,tr(e))}function Sd(e,t,r,n,s,i,a){var l=Ln(e,r),u=Ln(t,r),f=a.get(u);if(f){Un(e,r,f);return}var d=i?i(l,u,r+"",e,t,a):void 0,g=d===void 0;if(g){var O=Ue(u),A=!O&&xt(u),_=!O&&!A&&Tn(u);d=u,O||A||_?Ue(l)?d=l:Ed(l)?d=ri(l):A?(g=!1,d=Ei(u,!0)):_?(g=!1,d=Ni(u,!0)):d=[]:su(u)||wn(u)?(d=l,wn(l)?d=bd(l):(!Le(l)||yn(l))&&(d=Ii(u))):g=!1}g&&(a.set(u,d),s(d,u,n,i,a),a.delete(u)),Un(e,r,d)}function Ji(e,t,r,n,s){e!==t&&jd(t,function(i,a){if(s||(s=new ke),Le(i))Sd(e,t,a,r,Ji,n,s);else{var l=n?n(Ln(e,a),i,a+"",e,t,s):void 0;l===void 0&&(l=i),Un(e,a,l)}},tr)}function Vt(e,t){return Bi(e,t)}var wd=gl(function(e,t,r){Ji(e,t,r)}),it=wd;function Pd(e,t,r,n){if(!Le(e))return e;t=pi(t,e);for(var s=-1,i=t.length,a=i-1,l=e;l!=null&&++s<i;){var u=mi(t[s]),f=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(s!=a){var d=l[u];f=n?n(d,u,l):void 0,f===void 0&&(f=Le(d)?d:jn(t[s+1])?[]:{})}bn(l,u,f),l=l[u]}return e}function xe(e,t,r){return e==null?e:Pd(e,t,r)}const Od={vfjsComputedFieldHasErrors(){const{vfjsFieldErrors:e}=this.vfjsFieldState;return e&&e.length>0},vfjsComputedShowFieldErrors(){const{vfjsFieldDirty:e,vfjsFieldBlur:t}=this.vfjsFieldState,{showValidationErrors:r}=this.vfjsOptions;return e&&t||r},vfjsComputedFieldErrorOptions(){return this.vfjsComputedShowFieldErrors&&this.vfjsComputedFieldHasErrors?this.vfjsFieldErrorOptions:{}},vfjsComputedFieldAttrs(){const e=this.vfjsFieldHelperAttrsRequired(),t=this.vfjsFieldHelperAttrsValue(),r=this.vfjsFieldHelperAttrsChecked(),n={};return typeof e!="undefined"&&(n.required=e),typeof t!="undefined"&&(n.value=t),typeof r!="undefined"&&(n.checked=r),n},vfjsComputedFieldDomProps(){const e=this.vfjsFieldHelperDomPropsInnerHTML(),t=this.vfjsFieldHelperDomPropsValue(),r=this.vfjsFieldHelperDomPropsChecked(),n={};return typeof e!="undefined"&&(n.innerHTML=e),typeof t!="undefined"&&(n.value=t),typeof r!="undefined"&&(n.checked=r),n},vfjsComputedFieldProps(){const e=this.vfjsFieldHelperPropsRequired(),t={};return typeof e!="undefined"&&(t.required=e),t},vfjsComputedFieldOptions(){return ue(D(D(D({},this.vfjsComputedFieldAttrs),this.vfjsComputedFieldDomProps),this.vfjsComputedFieldProps),{key:this.vfjsFieldOptions.key||this.vfjsFieldId,directives:this.vfjsFieldOptions.directives})},vfjsComputedMergedFieldOptions(){return it({},this.vfjsComputedFieldErrorOptions,this.vfjsComputedFieldOptions)}},ir="VFJS_EVENT_FIELD_STATE_UPDATE",qr="VFJS_EVENT_FIELD_MODEL_VALIDATE",zr="VFJS_EVENT_FIELD_MODEL_UPDATE",kn="VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN",qn="VFJS_EVENT_FIELD_MODELS_VALIDATE",Td="VFJS_EVENT_MODEL_UPDATE",zn="VFJS_EVENT_MODEL_UPDATED",at="VFJS_EVENT_MODEL_VALIDATE",ot="VFJS_EVENT_STATE_UPDATE",et="VFJS_EVENT_STATE_UPDATED",ar="VFJS_EVENT_UI_FIELDS_UPDATE",Kn="components",Kr="update:modelValue",Gn="update:state",Bn="update:validated",Fd="id",or="modelValue",Jn="options",Xn="schema",Ad="schemas",Cd="tag",lr="uiSchema",Vd=[Kr,Gn,Bn,or];function Md(){return this.$slots}function Nd(){return this.getVfjsFieldAttributes(this.vfjsFieldOptions,this.vfjsComputedMergedFieldOptions)}function Xi(e){let t=D({},e);return"attrs"in e&&(delete t.attrs,t=D(D({},t),e.attrs)),"domProps"in e&&(delete t.domProps,t=D(D({},t),e.domProps)),"props"in e&&(delete t.props,t=D(D({},t),e.props)),t}function Id(u={},d={}){var f=u,{class:e,on:t,nativeOn:r}=f,n=At(f,["class","on","nativeOn"]);var g=d,{class:s,on:i,nativeOn:a}=g,l=At(g,["class","on","nativeOn"]);if(!n)return{};const O=it({},this.vfjsFieldHelperFormatClasses(e),this.vfjsFieldHelperFormatClasses(s)),A=it(this.vfjsFieldHelperFormatEvents(t),this.vfjsFieldHelperFormatEvents(i)),_=it(this.vfjsFieldHelperFormatEvents(r),this.vfjsFieldHelperFormatEvents(a)),j=D(D({class:O},A),_),y=this.vfjsInternalModel||this.vfjsFieldValueModel||this.vfjsFieldModel,h={[this.vfjsFieldValueProp]:y},E=it({},l,n,j,h);return Xi(E)}var Rd=Object.freeze(Object.defineProperty({__proto__:null,getVfjsChildren:Md,getVfjsAttributes:Nd,getVfjsFieldAttributes:Id},Symbol.toStringTag,{value:"Module"}));function Dd(e,t){e.addEventListener(t,this.vfjsFieldHelperStateEventHandler)}function Hd(){const{checked:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e)&&this.vfjsFieldOptions.attrs)return typeof this.vfjsFieldModel!="undefined"&&this.vfjsFieldModel===this.vfjsFieldOptions.attrs.value?!0:this.vfjsFieldOptions.attrs.checked}function Ud(){const{required:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldRequired}function Ld(){const{value:e=[]}=this.vfjsOptions.componentProperties.attrs;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.attrs&&this.vfjsFieldOptions.attrs.value}function kd(e){return e.some(t=>{if(typeof t=="string")return this.vfjsComponent===t;if(typeof t=="object"){const r=t,{component:n}=r,s=At(r,["component"]);if(this.vfjsComponent===n)return Object.keys(s).every(i=>{if(i in this.vfjsFieldOptions){const a=s[i];return Object.keys(a).every(l=>this.vfjsFieldOptions[i][l]===a[l])}return!1})}return!1})}function qd(){const{checked:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e)&&this.vfjsFieldOptions.domProps)return this.vfjsFieldModel===this.vfjsFieldOptions.domProps.value?!0:this.vfjsFieldOptions.domProps.checked}function zd(){const{innerHTML:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.domProps&&this.vfjsFieldOptions.domProps.innerHTML}function Kd(){const{value:e=[]}=this.vfjsOptions.componentProperties.domProps;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldModel?this.vfjsFieldModel:this.vfjsFieldOptions.domProps&&this.vfjsFieldOptions.domProps.value}function Gd(e,t){return(...n)=>{const[s]=n;let i=s;return typeof t=="function"?i=t(...n):s instanceof Event&&s.target&&typeof s.target[this.vfjsFieldEventProp]!="undefined"&&(i=s.target[this.vfjsFieldEventProp]),this.vfjsFieldHelperInternalModelEnabledForEvent(e)&&(this.vfjsInternalModel=i),this.setVfjsFieldModel(i)}}function Bd(e){if(!e)return{};if(typeof e=="string")return{[e]:!0};if(Array.isArray(e))return e.reduce((t,r)=>ue(D({},t),{[r]:!0}),{});if(typeof e=="string"){if(e.indexOf(",")!==-1)return e.split(",");if(e.indexOf(" ")!==-1)return e.split(" ")}return e}function Jd(e){if(!e)return{};let t=e;return Array.isArray(e)?t=e.reduce((r,n)=>ue(D({},r),{[n]:!0}),{}):typeof e=="string"&&(t={[e]:!0}),this.vfjsFieldHelperFormatEventsReducer(t)}function Xd(e={}){return Object.keys(e).reduce((t,r)=>{const n=r.substring(1),i=`on${r[0].toUpperCase()}${n}`;return ue(D({},t),{[i]:this.vfjsFieldHelperEventHandler(r,e[r])})},{})}function Wd(e){return this.vfjsFieldInternalModel?Array.isArray(this.vfjsFieldInternalModel)?this.vfjsFieldInternalModel.indexOf(e)>=0:this.vfjsFieldInternalModel===!0:!1}function Yd(){const{required:e=[]}=this.vfjsOptions.componentProperties;if(this.vfjsFieldHelperComponentMatchesComponentProperties(e))return this.vfjsFieldRequired}function Qd(e,t){e.removeEventListener(t,this.vfjsFieldHelperStateEventHandler)}function Zd(e){if(e&&e.type==="blur"){const t=this.vfjsFieldState.vfjsFieldBlur;this.setVfjsFieldState(ue(D({},this.vfjsFieldState),{vfjsFieldBlur:!0})),t||this.vfjsBus.$emit(ar)}}var xd=Object.freeze(Object.defineProperty({__proto__:null,vfjsFieldHelperAddListener:Dd,vfjsFieldHelperAttrsChecked:Hd,vfjsFieldHelperAttrsRequired:Ud,vfjsFieldHelperAttrsValue:Ld,vfjsFieldHelperComponentMatchesComponentProperties:kd,vfjsFieldHelperDomPropsChecked:qd,vfjsFieldHelperDomPropsInnerHTML:zd,vfjsFieldHelperDomPropsValue:Kd,vfjsFieldHelperEventHandler:Gd,vfjsFieldHelperFormatClasses:Bd,vfjsFieldHelperFormatEvents:Jd,vfjsFieldHelperFormatEventsReducer:Xd,vfjsFieldHelperInternalModelEnabledForEvent:Wd,vfjsFieldHelperPropsRequired:Yd,vfjsFieldHelperRemoveListener:Qd,vfjsFieldHelperStateEventHandler:Zd},Symbol.toStringTag,{value:"Module"}));function eh(e){this.setVfjsFieldModel(e)}function th(e){this.setVfjsFieldState(e)}function rh(e,t){this.vfjsBus.$emit(zr,{key:t||this.vfjsFieldModelKey,value:e})}function nh(e,t){this.vfjsBus.$emit(ir,{key:t||this.vfjsFieldModelKey,value:e})}var sh=Object.freeze(Object.defineProperty({__proto__:null,setModel:eh,setState:th,setVfjsFieldModel:rh,setVfjsFieldState:nh},Symbol.toStringTag,{value:"Module"}));const ih=D(D(D({},Rd),xd),sh),Wi={data(){return{vfjsInternalModel:void 0}},computed:Od,props:{vfjsBus:{type:Object,required:!0},vfjsChildren:{type:Array,default:()=>[]},vfjsChildrenUiSchema:{type:Array,default:()=>[]},vfjsComponent:{type:[String,Object,Function]},vfjsFieldErrorHandler:{type:Boolean},vfjsFieldErrorOptions:{type:Object},vfjsFieldErrors:{type:Array},vfjsFieldEventProp:{type:String},vfjsFieldId:{type:String,required:!0},vfjsFieldInternalModel:{type:[Boolean,Array],required:!0},vfjsFieldModel:{type:null},vfjsFieldModelKey:{type:[String,Boolean],required:!0},vfjsFieldOptions:{type:Object,required:!0},vfjsFieldRequired:{type:Boolean,required:!0},vfjsFieldSchema:{type:Object,required:!0},vfjsFieldSchemas:{type:Object},vfjsFieldState:{type:Object,required:!0},vfjsFieldTag:{type:String,default:"div"},vfjsFieldUiSchema:{type:Object,required:!0},vfjsFieldValueProp:{type:String},vfjsFieldValueModel:{type:null},vfjsFieldValueModelKey:{type:[String,Boolean]},vfjsOptions:{type:Object,required:!0},vfjsModel:{type:Object,required:!0},vfjsState:{type:Object,required:!0}},emits:Vd,methods:ih,beforeUpdate(){this.vfjsFieldInternalModel&&(this.vfjsInternalModel=void 0)},mounted(){this.vfjsFieldHelperAddListener(this.$el,"blur")},beforeUnmount(){this.vfjsFieldHelperRemoveListener(this.$el,"blur")}},cr=(...e)=>(fe.h||window.Vue.h||globalThis.$createElement)(...e),ah=["input","select","textarea"],Yi={name:"vue-form-json-schema-field-component",mixins:[Wi],render(){return cr(ah.includes(this.vfjsComponent)?this.vfjsComponent:fe.resolveComponent(this.vfjsComponent),D({},this.getVfjsAttributes()),this.getVfjsChildren())}},oh={vfjsSchemaValid(){return this.vfjsSchema.every(this.isVfjsFieldSchemaValid)},vfjsModelValid(){return this.vfjsSchema.every(this.isVfjsFieldModelValid)}},lh=()=>({vfjsBus:{},vfjsEvents:[kn,zr,qr,qn,ir,Td,zn,at,ot,et,ar],vfjsFields:[],vfjsFieldsActive:[],vfjsFieldsActiveModels:[],vfjsFieldsRequired:[],vfjsModel:{},vfjsOptions:{ajv:{keywords:{},locale:null,options:{allErrors:!0}},allowInvalidModel:!0,castToSchemaType:!1,componentProperties:{attrs:{checked:[{component:"input",attrs:{type:"checkbox"}},{component:"input",attrs:{type:"radio"}}],required:["input","select","textarea"],value:["input","option","textarea"]},domProps:{checked:[{component:"input",attrs:{type:"checkbox"}},{component:"input",attrs:{type:"radio"}}],required:["input","select","textarea"],value:["input","textarea"]},props:{required:[]},innerHTML:["textarea"]},showValidationErrors:!1,validate:!0,validateOnLoad:!0,validateOnChange:!0,valueProp:"value",eventProp:"value"},vfjsSchema:{},vfjsState:{},vfjsUiSchema:[]});function ch(e,t){this.vfjsBus.$on(e,r=>t(e,r))}function uh(e=[],t){e.forEach(r=>this.addVfjsListener(r,t))}function fh(e){this.vfjsBus.$off(e)}function dh(e=[]){e.forEach(this.removeVfjsListener)}function hh(){this.vfjsBus.$off()}class ph{constructor(){this.events={}}$on(t,r){this.events[t]||(this.events[t]=[]),this.events[t].push(r)}$off(t,r){this.events[t]&&(this.events[t]=this.events[t].filter(n=>n===r))}$emit(t,r){this.events[t]&&this.events[t].forEach(n=>n(r))}}function mh(){this.vfjsBus=new ph}function vh(){const e=this.vfjsHelperGetFieldsWithClearOnHide(this[lr]),t=this.vfjsHelperGetFieldsWithClearOnHide(this.vfjsFieldsActive),r=Object.keys(e).reduce((n,s)=>(s in t||(n[s]=e[s]),n),{});Object.keys(r).forEach(n=>{const s=r[n];if(Array.isArray(s))s.forEach(i=>{const a=this.vfjsHelperApplyFieldModel(typeof i=="string"?i:n,void 0);this.setVfjsModel(a,!0)});else{const i=this.vfjsHelperApplyFieldModel(typeof s=="string"?s:n,void 0);this.setVfjsModel(i,!0)}})}function gh({key:e,value:t,cb:r}){const n={};xe(n,e,t);const s=this.getVfjsValidationSchema(e,t),i=this.getVfjsValidationErrors(n,s);r&&typeof r=="function"&&r(i)}function yh({vfjsModel:e,cb:t}){const r=this.vfjsFieldsActiveModels.map(n=>{const s=st(e,n);return new Promise(i=>{this.vfjsBus.$emit(qr,{value:s,key:n,cb:a=>{const l=this.getVfjsFieldState(n);i({[n]:ue(D({},l),{vfjsFieldErrors:a})})}})})});Promise.all(r).then(n=>{const s=n.reduce((i,a)=>D(D({},i),a),{});t&&typeof t=="function"&&t(s)})}function $h({key:e,value:t,cb:r}){let n=t;const{castToSchemaType:s=!1}=this.vfjsOptions;s&&(n=this.vfjsHelperCastValueToSchemaType(e,n));const i=this.vfjsHelperApplyFieldModel(e,n);this.vfjsBus.$emit(at,{vfjsModel:i,cb:a=>{const l=this.getVfjsFieldModel(e);Vt(l,n)||xe(a,`${e}.vfjsFieldDirty`,!0);const u=st(a,`${e}`),{vfjsFieldErrors:f=[]}=u;this.vfjsBus.$emit(ot,{value:a,cb:()=>{(f.length===0||this.vfjsOptions.allowInvalidModel)&&this.setVfjsModel(i),r&&typeof r=="function"&&r()}})}})}function _h({key:e,value:t,cb:r}){const n=ue(D({},this.getVfjsState()),{[e]:t});this.vfjsBus.$emit(ot,{value:n,cb:r})}function jh({vfjsModel:e,cb:t}){this.vfjsBus.$emit(qn,{vfjsModel:e,cb:r=>{const n=this.getVfjsValidationErrors(e),s=Object.keys(r).map(l=>r[l]).reduce((l,u)=>[...l,...u.vfjsFieldErrors],[]),i=[...n,...s].reduce((l,u)=>(l.some(d=>Vt(u,d))||l.push(u),l),[]),a=ue(D(D({},this.getVfjsState()),r),{vfjsErrors:i});t&&typeof t=="function"&&t(a)}})}function Eh(){this.setVfjsUiFieldsActive()}function bh(){this.vfjsBus.$emit(ar),this.vfjsBus.$emit(kn),this.$emit(Kr,this.getVfjsModel())}function Sh({value:e,cb:t}){this.setVfjsState(e),t&&typeof t=="function"&&t()}function wh({cb:e}){const t=D({vfjsErrors:[],vfjsFieldsActive:this.vfjsFieldsActive,vfjsFieldsActiveModels:this.vfjsFieldsActiveModels},this.getVfjsState());this.$emit(Gn,t),this.$emit(Bn,t.vfjsErrors.length===0),e&&typeof e=="function"&&e()}const Qi={[kn]:vh,[qr]:gh,[qn]:yh,[zr]:$h,[ir]:_h,[at]:jh,[ar]:Eh,[zn]:bh,[ot]:Sh,[et]:wh};function Ph(e,t){e&&e in Qi&&Qi[e].call(this,t)}const Oh={addVfjsListener:ch,addVfjsListeners:uh,removeVfjsListener:fh,removeVfjsListeners:dh,removeVfjsListenersAll:hh,vfjsBusInitialize:mh,vfjsBusEventHandler:Ph};function Th(e,t){const r=this.getVfjsModel(),n=Ur(r);return xe(n,e,t),n}function Fh(e,t){if(typeof t!="undefined"){const r=this.getVfjsSchema(e);if(!r)return t;if(r.type==="number")return Number(t);if(r.type==="integer")return parseInt(t,10);if(r.type==="boolean"&&(t==="true"||t==="false"||t==="on"))return t==="true"||t==="on"}return t}function Ah(i,n,s){var a=i,{model:e,children:t=[]}=a,r=At(a,["model","children"]);return ue(D({},r),{model:this.vfjsHelperGetChildArrayModelAtIndex(e,n,s),children:this.vfjsHelperChildArrayReducerMapper(n,t,s)})}function Ch(e,t=[],r){return t.reduce((n,s)=>[...n,this.vfjsHelperChildArrayMapper(s,e,r)],[])}function Vh({children:e=[],component:t,props:r}){const n=this.vfjsComponents[t]||t;if(!r.vfjsFieldModelKey)return cr(n,D({key:r.vfjsFieldId},this.vfjsHelperFlattenVue2Properties(r.vfjsFieldOptions)),{default:()=>e});const{slot:s}=r.vfjsFieldOptions;return cr(Yi,D({key:`${r.key||r.vfjsFieldId}-wrapper`,slot:s,vfjsComponent:n},r),{default:()=>e})}function Mh(e){const{component:t,children:r=[],id:n,errorHandler:s,errorOptions:i={},eventProp:a=this.vfjsOptions.eventProp,fieldOptions:l={},model:u="",required:f=!1,valueProp:d=this.vfjsOptions.valueProp,valueModel:g,internalModel:O=!1}=e,A=this.getVfjsFieldSchema(u)||{},_=this.schemas,j=this.getVfjsFieldModel(u),y=this.getVfjsFieldState(u)||{},h=this.getVfjsModel(),E=this.getVfjsState(),T=this.getVfjsFieldValueModel(g),{vfjsFieldErrors:V=[]}=y,{domProps:N}=l,F=s&&V.length>0&&(!N||!N.innerHTML)&&r.length===0?this.vfjsHelperGetErrors(V,n):r.map(this.vfjsHelperCreateField),I={vfjsBus:this.vfjsBus,vfjsChildrenUiSchema:r,vfjsOptions:this.vfjsOptions,vfjsChildren:F,vfjsFieldErrorHandler:s,vfjsFieldErrorOptions:i,vfjsFieldErrors:V,vfjsFieldEventProp:a,vfjsFieldId:n,vfjsFieldInternalModel:O,vfjsFieldModel:j,vfjsFieldModelKey:u,vfjsFieldOptions:l,vfjsFieldRequired:f,vfjsFieldSchema:A,vfjsFieldSchemas:_,vfjsFieldState:y,vfjsFieldUiSchema:e,vfjsFieldValueModel:T,vfjsFieldValueModelKey:g,vfjsFieldValueProp:d,vfjsModel:h,vfjsState:E};return this.vfjsHelperCreateComponent({children:F,component:t,props:I})}function Nh(r){var n=r,{dynamicOptions:e}=n,t=At(n,["dynamicOptions"]);if(!e)return null;if(Array.isArray(e))return e.reduce((l,{schema:u,model:f,options:d})=>this.vfjsHelperSchemaHasErrors(u,f)?it(l,d):l,{});const{schema:s,model:i,options:a}=e;return this.vfjsHelperSchemaHasErrors(s,i)?a:null}function Ih(e){if(!e)return!1;const t=this.getVfjsFieldSchema(e);return t?Array.isArray(t.items):!1}function Rh(e){return e?this.vfjsFieldsRequired.indexOf(e)!==-1:!1}function Dh(e,t){if(!e)return!1;const{children:r=[]}=e;return ue(D({},e),{id:t,children:r.map((n,s)=>this.vfjsHelperGenerateField(n,`${t}-${s}`))})}function Hh(e,t,r){const n=this.vfjsHelperGetRelativeModel(e,t);return n?`${t}.${r}.${n}`:e}function Uh(e=[],t){return e.map((r,n)=>this.vfjsHelperCreateField({id:`${t}-error-${n}`,component:"div",fieldOptions:{class:["vfjs-error","vfjs-default-error-handler"],domProps:{innerHTML:r.message}}}))}function Lh(e,t=[]){return e.reduce((r,{children:n=[],model:s})=>(s&&r.indexOf(s)===-1&&r.push(s),this.vfjsHelperGetFieldsModels(n,r)),t)}function kh(e=[]){return e.reduce((t,{children:r=[],displayOptions:n={},model:s})=>(n.clearOnHide&&(s?t[s]=n.clearOnHide:!s&&typeof n.clearOnHide=="string"&&(t[n.clearOnHide]=n.clearOnHide)),D(D({},t),this.vfjsHelperGetFieldsWithClearOnHide(r))),{})}function qh(e,t){return e&&String(e).substring(t.length+1)}function zh(e,t){const r=typeof t=="undefined"?this.getVfjsModel():this.getVfjsFieldModel(t);return this.ajv.validate(e,r),(this.ajv.errors?this.ajv.errors:[]).length===0}const Kh={vfjsHelperApplyFieldModel:Th,vfjsHelperCastValueToSchemaType:Fh,vfjsHelperChildArrayMapper:Ah,vfjsHelperChildArrayReducerMapper:Ch,vfjsHelperCreateComponent:Vh,vfjsHelperCreateElement:cr,vfjsHelperCreateField:Mh,vfjsHelperFieldDynamicProperties:Nh,vfjsHelperFieldIsArray:Ih,vfjsHelperFieldIsRequired:Rh,vfjsHelperFlattenVue2Properties:Xi,vfjsHelperGenerateField:Dh,vfjsHelperGetChildArrayModelAtIndex:Hh,vfjsHelperGetErrors:Uh,vfjsHelperGetFieldsModels:Lh,vfjsHelperGetFieldsWithClearOnHide:kh,vfjsHelperGetRelativeModel:qh,vfjsHelperSchemaHasErrors:zh};function Gh(){if(this.setVfjsSchema(this[Xn],!0),this.vfjsOptions=D(D({},this.vfjsOptions),this[Jn]),this.vfjsComponents=this[Kn],this.vfjsBusInitialize(),this.addVfjsListeners(this.vfjsEvents,this.vfjsBusEventHandler),this.setVfjsModel(this[or],!0),this.vfjsValidationInitialize(),this.vfjsOptions.validate&&this.vfjsOptions.validateOnLoad){const e=this.getVfjsModel();this.vfjsBus.$emit(at,{vfjsModel:e,cb:t=>{this.vfjsBus.$emit(ot,{value:t,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsUiSchema(this[lr])}})}})}})}else this.setVfjsUiSchema(this[lr])}function Bh(){this.vfjsEvents.forEach(e=>this.removeVfjsListener(e))}const Jh={vfjsInitialize:Gh,vfjsDestroy:Bh};function Xh(e){return e?this.getVfjsModel(e):this.vfjsFieldModelKey?this.getVfjsModel(this.vfjsFieldModelKey):null}function Wh(e){if(typeof e=="string")return this.getVfjsFieldModel(e);if(e===!0)return this.getVfjsModel()}function Yh(e){return!e||e===!0?this.vfjsModel:st(this.vfjsModel,e)}var Qh=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldModel:Xh,getVfjsFieldValueModel:Wh,getVfjsModel:Yh},Symbol.toStringTag,{value:"Module"}));function Zh(e,t){this.vfjsBus.$emit(zr,{key:t||this.vfjsFieldModelKey,value:e})}function xh(e,t=!1){Vt(e,this.vfjsModel)||(this.vfjsModel=Ur(e),t||this.vfjsBus.$emit(at,{vfjsModel:this.vfjsModel,cb:r=>{this.vfjsBus.$emit(ot,{value:r,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.vfjsBus.$emit(zn)}})}})}}))}var ep=Object.freeze(Object.defineProperty({__proto__:null,setVfjsFieldModel:Zh,setVfjsModel:xh},Symbol.toStringTag,{value:"Module"}));const tp=D(D({},Qh),ep);function rp(e){return e?this.getVfjsState(e):this.vfjsFieldModelKey?this.getVfjsState(this.vfjsFieldModelKey):null}function np(e){return e?st(this.vfjsState,e):this.vfjsState}var sp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldState:rp,getVfjsState:np},Symbol.toStringTag,{value:"Module"}));function ip(e,t){this.vfjsBus.$emit(ir,{key:t||this.vfjsFieldModelKey,value:e})}function ap(e){const t=this.getVfjsState();Vt(e,t)||(this.vfjsState=Object.assign({},t,e),this.vfjsBus.$emit(et,{}))}var op=Object.freeze(Object.defineProperty({__proto__:null,setVfjsFieldState:ip,setVfjsState:ap},Symbol.toStringTag,{value:"Module"}));const lp=D(D({},sp),op);function cp(e){return e?this.getVfjsSchema(e):this.vfjsFieldModelKey?this.getVfjsSchema(this.vfjsFieldModelKey):null}function up(e){return e?st(this.vfjsSchema.properties,e)||this.getVfjsSchemaFallback(e):this.vfjsSchema}function fp(e){const r=String(e).split(".").reduce(this.getVfjsSchemaPath,"");return st(this.getVfjsSchema(),r)}function dp(e,t){const r=this.getVfjsSchema();if(!e)return r.items?this.getVfjsSchemaPath("items"):`properties.${t}`;const n=st(r,e);if(n){if(n.items instanceof Array){const s=this.getVfjsSchemaPath(`${e}.items`);return this.getVfjsSchemaPath(`${s}.0`)}if(n.oneOf instanceof Array){const s=n.oneOf.findIndex(i=>i.properties instanceof Object&&Object.keys(i.properties).includes(t));return this.getVfjsSchemaPath(`${e}.oneOf.${s}`,t)}if(n.properties instanceof Object)return this.getVfjsSchemaPath(`${e}.properties`,t)}return t?`${e}.${t}`:e}var hp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFieldSchema:cp,getVfjsSchema:up,getVfjsSchemaFallback:fp,getVfjsSchemaPath:dp},Symbol.toStringTag,{value:"Module"}));function pp(e,t=!1){if(!Vt(e,this.vfjsSchema)&&(this.vfjsSchema=Ur(e),!t))if(this.vfjsOptions.validate){const r=this.getVfjsModel();this.vfjsBus.$emit(at,{vfjsModel:r,cb:n=>{this.vfjsBus.$emit(ot,{value:n,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}})}})}else this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}var mp=Object.freeze(Object.defineProperty({__proto__:null,setVfjsSchema:pp},Symbol.toStringTag,{value:"Module"}));const vp=D(D({},hp),mp);function gp(e=[]){return e.reduce((t,r)=>[...t,this.vfjsHelperCreateField(r)],[])}function yp(e){return this.getVfjsUiSchema(e)}function $p(e){if(this.getVfjsUiFieldVisible(e)){const r=this.vfjsHelperFieldIsArray(e.model),n=this.vfjsHelperFieldIsRequired(e.model),s=this.vfjsHelperFieldDynamicProperties(e),t=it({},e,s),{children:i=[]}=t,a=At(t,["children"]);return r?ue(D({},a),{required:n,children:this.getVfjsUiFieldArrayChildrenActive(e.model,i)}):ue(D({},a),{required:n,children:this.getVfjsUiFieldsActive(i)})}return!1}function _p(e,t){return(this.getVfjsFieldModel(e)||[]).map((n,s)=>this.vfjsHelperChildArrayReducerMapper(e,t,s)).map(this.getVfjsUiFieldsActive)}function jp(e){return e.reduce((t,r,n)=>{if(r){const s=this.getVfjsUiField(r);s&&t.push(s)}return t},[])}function Ep(e){if(e.errorHandler&&!this.vfjsOptions.showValidationErrors){const i=this.getVfjsFieldState(e.model);if(!i||i&&(!i.vfjsFieldBlur||!i.vfjsFieldDirty))return!1}if(!e.displayOptions)return!0;const{model:t,schema:r={}}=e.displayOptions,n=typeof t=="undefined"?this.getVfjsModel():this.getVfjsFieldModel(t);return this.ajv.validate(r,n),(this.ajv.errors?this.ajv.errors:[]).length===0}function bp(e){return e?st(this.vfjsUiSchema,e):this.vfjsUiSchema}var Sp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsFields:gp,getVfjsFieldUiSchema:yp,getVfjsUiField:$p,getVfjsUiFieldArrayChildrenActive:_p,getVfjsUiFieldsActive:jp,getVfjsUiFieldVisible:Ep,getVfjsUiSchema:bp},Symbol.toStringTag,{value:"Module"}));function wp(e=[]){const t=e.reduce((r,n,s)=>[...r,this.vfjsHelperGenerateField(n,`${this.id}-${s}`)],[]);Vt(t,this.vfjsUiSchema)||(this.vfjsUiSchema=Ur(t),this.setVfjsUiFieldsActive())}function Pp(){if(this.vfjsFieldsActive=this.getVfjsUiFieldsActive(this.vfjsUiSchema),this.vfjsFieldsActiveModels=this.vfjsHelperGetFieldsModels(this.vfjsFieldsActive),this.vfjsOptions.validate){const e=this.getVfjsModel();this.vfjsBus.$emit(at,{vfjsModel:e,cb:t=>{this.vfjsBus.$emit(ot,{value:t,cb:()=>{this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}})}})}else this.vfjsBus.$emit(et,{cb:()=>{this.setVfjsFields()}})}function Op(){this.vfjsFields=this.getVfjsFields(this.vfjsFieldsActive)}var Tp=Object.freeze(Object.defineProperty({__proto__:null,setVfjsUiSchema:wp,setVfjsUiFieldsActive:Pp,setVfjsFields:Op},Symbol.toStringTag,{value:"Module"}));const Fp=D(D({},Sp),Tp);function Ap(e=[],t=[]){const r=e.filter(n=>t.indexOf(n)===-1);return r.reduce((n,s)=>{n.push(s);const i={};xe(i,s,{}),this.ajv.validate(this.getVfjsSchema(),i);const a=this.getVfjsPropertiesRequired(this.ajv.errors);if(a.length>0){const l=[...t,...r],u=this.getVfjsChildPropertiesRequired(a,l);n.push(...u)}return n},[])}function Cp(e,t){return this.getVfjsValidationErrors(t,this.getVfjsSchema(e))}function Vp(e,t){return this.getVfjsFieldModelValidationErrors(e,t).length===0}function Mp(){const{ajv:e={}}=this.vfjsOptions,{locale:t}=e;typeof t=="function"&&t(this.ajv.errors)}function Np(e){return e?e.reduce((t,r)=>{if(r.keyword==="required"&&r.params&&r.params.missingProperty){const n=r.params.missingProperty,s=String(r.instancePath).substring(0,1);let i;switch(s){case".":i=r.instancePath.substring(1);break;case"[":i=r.instancePath.substring(2,r.instancePath.length-2).replace("']['",".");break;case"/":i=r.instancePath.substring(1).replace(/\//g,".");break}const a=i?`${i}.${n}`:n;t.indexOf(a)===-1&&t.push(a)}return t},[]):[]}function Ip(e,t){const r=t||this.getVfjsSchema(),n=e||this.getVfjsModel(),s=this.ajv.validate(r,n);return this.getVfjsModelValidationErrorsLocalized(),s?[]:this.ajv.errors}function Rp(e,t){const r={type:"object",properties:{}},n=this.vfjsHelperFieldIsRequired(e),s=this.getVfjsSchema(e)||{},i=e.split("."),a=[];return i.forEach((l,u)=>{const f=a.map(O=>`properties.${O}`).join("."),d=a.length>0?`${f}.properties.${l}`:`properties.${l}`,g=a.length>0?`${f}.required`:"required";if(u===i.length-1){if(xe(r,d,s),n&&(xe(r,g,[l]),this.ajv.RULES.keywords.errorMessage&&s.errorMessage)){const O=a.length>0?`${f}.errorMessage`:"errorMessage";xe(r,O,s.errorMessage)}}else xe(r,d,{}),xe(r,g,[l]);a.push(l)}),r}function Dp(){return this.getVfjsValidationErrors().length===0}var Hp=Object.freeze(Object.defineProperty({__proto__:null,getVfjsChildPropertiesRequired:Ap,getVfjsFieldModelValidationErrors:Cp,getVfjsFieldModelValid:Vp,getVfjsModelValidationErrorsLocalized:Mp,getVfjsPropertiesRequired:Np,getVfjsValidationErrors:Ip,getVfjsValidationSchema:Rp,getVfjsValid:Dp},Symbol.toStringTag,{value:"Module"}));function Up(){this.vfjsBus.$emit(at,{vfjsModel:this.getVfjsModel(),cb:()=>{const e=r=>new Promise((n,s)=>{this.vfjsBus.$emit(qr,{key:r,value:this.getVfjsFieldModel(r),cb:i=>{const a=this.getVfjsFieldState(r);this.vfjsBus.$emit(ir,{key:r,value:ue(D({},a),{vfjsFieldErrors:i}),cb:()=>{n()}})}})}),t=this.vfjsFieldsRequired.map(e);return Promise.all(t).then(()=>this.vfjsBus.$emit(ar))}})}var Lp=Object.freeze(Object.defineProperty({__proto__:null,setVfjsValidationErrors:Up},Symbol.toStringTag,{value:"Module"})),kp=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function qp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wn={exports:{}},Zi={},Ve={},Mt={},ur={},J={},fr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(E){if(super(),!e.IDENTIFIER.test(E))throw new Error("CodeGen: name must be a valid identifier");this.str=E}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(E){super(),this._items=typeof E=="string"?[E]:E}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const E=this._items[0];return E===""||E==='""'}get str(){var E;return(E=this._str)!==null&&E!==void 0?E:this._str=this._items.reduce((T,V)=>`${T}${V}`,"")}get names(){var E;return(E=this._names)!==null&&E!==void 0?E:this._names=this._items.reduce((T,V)=>(V instanceof r&&(T[V.str]=(T[V.str]||0)+1),T),{})}}e._Code=n,e.nil=new n("");function s(h,...E){const T=[h[0]];let V=0;for(;V<E.length;)l(T,E[V]),T.push(h[++V]);return new n(T)}e._=s;const i=new n("+");function a(h,...E){const T=[A(h[0])];let V=0;for(;V<E.length;)T.push(i),l(T,E[V]),T.push(i,A(h[++V]));return u(T),new n(T)}e.str=a;function l(h,E){E instanceof n?h.push(...E._items):E instanceof r?h.push(E):h.push(g(E))}e.addCodeArg=l;function u(h){let E=1;for(;E<h.length-1;){if(h[E]===i){const T=f(h[E-1],h[E+1]);if(T!==void 0){h.splice(E-1,3,T);continue}h[E++]="+"}E++}}function f(h,E){if(E==='""')return h;if(h==='""')return E;if(typeof h=="string")return E instanceof r||h[h.length-1]!=='"'?void 0:typeof E!="string"?`${h.slice(0,-1)}${E}"`:E[0]==='"'?h.slice(0,-1)+E.slice(1):void 0;if(typeof E=="string"&&E[0]==='"'&&!(h instanceof r))return`"${h}${E.slice(1)}`}function d(h,E){return E.emptyStr()?h:h.emptyStr()?E:a`${h}${E}`}e.strConcat=d;function g(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:A(Array.isArray(h)?h.join(","):h)}function O(h){return new n(A(h))}e.stringify=O;function A(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=A;function _(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):s`[${h}]`}e.getProperty=_;function j(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=j;function y(h){return new n(h.toString())}e.regexpCode=y})(fr);var Yn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=fr;class r extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,g;if(((g=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||g===void 0?void 0:g.has(f))||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=s;class i extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:g}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${g}]`}}e.ValueScopeName=i;const a=(0,t._)`\n`;class l extends s{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts=ue(D({},f),{_n:f.lines?a:t.nil})}get(){return this._scope}name(f){return new i(f,this._newName(f))}value(f,d){var g;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const O=this.toName(f),{prefix:A}=O,_=(g=d.key)!==null&&g!==void 0?g:d.ref;let j=this._values[A];if(j){const E=j.get(_);if(E)return E}else j=this._values[A]=new Map;j.set(_,O);const y=this._scope[A]||(this._scope[A]=[]),h=y.length;return y[h]=d.ref,O.setValue(d,{property:A,itemIndex:h}),O}getValue(f,d){const g=this._values[f];if(!!g)return g.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,t._)`${f}${g.scopePath}`})}scopeCode(f=this._values,d,g){return this._reduceValues(f,O=>{if(O.value===void 0)throw new Error(`CodeGen: name "${O}" has no value`);return O.value.code},d,g)}_reduceValues(f,d,g={},O){let A=t.nil;for(const _ in f){const j=f[_];if(!j)continue;const y=g[_]=g[_]||new Map;j.forEach(h=>{if(y.has(h))return;y.set(h,n.Started);let E=d(h);if(E){const T=this.opts.es5?e.varKinds.var:e.varKinds.const;A=(0,t._)`${A}${T} ${h} = ${E};${this.opts._n}`}else if(E=O==null?void 0:O(h))A=(0,t._)`${A}${E}${this.opts._n}`;else throw new r(h);y.set(h,n.Completed)})}return A}}e.ValueScope=l})(Yn),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=fr,r=Yn;var n=fr;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Yn;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(o,m){return this}}class a extends i{constructor(o,m,C){super(),this.varKind=o,this.name=m,this.rhs=C}render({es5:o,_n:m}){const C=o?r.varKinds.var:this.varKind,H=this.rhs===void 0?"":` = ${this.rhs}`;return`${C} ${this.name}${H};`+m}optimizeNames(o,m){if(!!o[this.name.str])return this.rhs&&(this.rhs=ve(this.rhs,o,m)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(o,m,C){super(),this.lhs=o,this.rhs=m,this.sideEffects=C}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,m){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=ve(this.rhs,o,m),this}get names(){const o=this.lhs instanceof t.Name?{}:D({},this.lhs.names);return Fe(o,this.rhs)}}class u extends l{constructor(o,m,C,H){super(o,C,H),this.op=m}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class f extends i{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class d extends i{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class g extends i{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class O extends i{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,m){return this.code=ve(this.code,o,m),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class A extends i{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((m,C)=>m+C.render(o),"")}optimizeNodes(){const{nodes:o}=this;let m=o.length;for(;m--;){const C=o[m].optimizeNodes();Array.isArray(C)?o.splice(m,1,...C):C?o[m]=C:o.splice(m,1)}return o.length>0?this:void 0}optimizeNames(o,m){const{nodes:C}=this;let H=C.length;for(;H--;){const U=C[H];U.optimizeNames(o,m)||(St(o,U.names),C.splice(H,1))}return C.length>0?this:void 0}get names(){return this.nodes.reduce((o,m)=>x(o,m.names),{})}}class _ extends A{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class j extends A{}class y extends _{}y.kind="else";class h extends _{constructor(o,m){super(m),this.condition=o}render(o){let m=`if(${this.condition})`+super.render(o);return this.else&&(m+="else "+this.else.render(o)),m}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let m=this.else;if(m){const C=m.optimizeNodes();m=this.else=Array.isArray(C)?new y(C):C}if(m)return o===!1?m instanceof h?m:m.nodes:this.nodes.length?this:new h(wt(o),m instanceof h?[m]:m.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,m){var C;if(this.else=(C=this.else)===null||C===void 0?void 0:C.optimizeNames(o,m),!!(super.optimizeNames(o,m)||this.else))return this.condition=ve(this.condition,o,m),this}get names(){const o=super.names;return Fe(o,this.condition),this.else&&x(o,this.else.names),o}}h.kind="if";class E extends _{}E.kind="for";class T extends E{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,m){if(!!super.optimizeNames(o,m))return this.iteration=ve(this.iteration,o,m),this}get names(){return x(super.names,this.iteration.names)}}class V extends E{constructor(o,m,C,H){super(),this.varKind=o,this.name=m,this.from=C,this.to=H}render(o){const m=o.es5?r.varKinds.var:this.varKind,{name:C,from:H,to:U}=this;return`for(${m} ${C}=${H}; ${C}<${U}; ${C}++)`+super.render(o)}get names(){const o=Fe(super.names,this.from);return Fe(o,this.to)}}class N extends E{constructor(o,m,C,H){super(),this.loop=o,this.varKind=m,this.name=C,this.iterable=H}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,m){if(!!super.optimizeNames(o,m))return this.iterable=ve(this.iterable,o,m),this}get names(){return x(super.names,this.iterable.names)}}class b extends _{constructor(o,m,C){super(),this.name=o,this.args=m,this.async=C}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}b.kind="func";class F extends A{render(o){return"return "+super.render(o)}}F.kind="return";class I extends _{render(o){let m="try"+super.render(o);return this.catch&&(m+=this.catch.render(o)),this.finally&&(m+=this.finally.render(o)),m}optimizeNodes(){var o,m;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(m=this.finally)===null||m===void 0||m.optimizeNodes(),this}optimizeNames(o,m){var C,H;return super.optimizeNames(o,m),(C=this.catch)===null||C===void 0||C.optimizeNames(o,m),(H=this.finally)===null||H===void 0||H.optimizeNames(o,m),this}get names(){const o=super.names;return this.catch&&x(o,this.catch.names),this.finally&&x(o,this.finally.names),o}}class K extends _{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}K.kind="catch";class W extends _{render(o){return"finally"+super.render(o)}}W.kind="finally";class ce{constructor(o,m={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ue(D({},m),{_n:m.lines?`
`:""}),this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new j]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,m){const C=this._extScope.value(o,m);return(this._values[C.prefix]||(this._values[C.prefix]=new Set)).add(C),C}getScopeValue(o,m){return this._extScope.getValue(o,m)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,m,C,H){const U=this._scope.toName(m);return C!==void 0&&H&&(this._constants[U.str]=C),this._leafNode(new a(o,U,C)),U}const(o,m,C){return this._def(r.varKinds.const,o,m,C)}let(o,m,C){return this._def(r.varKinds.let,o,m,C)}var(o,m,C){return this._def(r.varKinds.var,o,m,C)}assign(o,m,C){return this._leafNode(new l(o,m,C))}add(o,m){return this._leafNode(new u(o,e.operators.ADD,m))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new O(o)),this}object(...o){const m=["{"];for(const[C,H]of o)m.length>1&&m.push(","),m.push(C),(C!==H||this.opts.es5)&&(m.push(":"),(0,t.addCodeArg)(m,H));return m.push("}"),new t._Code(m)}if(o,m,C){if(this._blockNode(new h(o)),m&&C)this.code(m).else().code(C).endIf();else if(m)this.code(m).endIf();else if(C)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new h(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(h,y)}_for(o,m){return this._blockNode(o),m&&this.code(m).endFor(),this}for(o,m){return this._for(new T(o),m)}forRange(o,m,C,H,U=this.opts.es5?r.varKinds.var:r.varKinds.let){const Y=this._scope.toName(o);return this._for(new V(U,Y,m,C),()=>H(Y))}forOf(o,m,C,H=r.varKinds.const){const U=this._scope.toName(o);if(this.opts.es5){const Y=m instanceof t.Name?m:this.var("_arr",m);return this.forRange("_i",0,(0,t._)`${Y}.length`,Z=>{this.var(U,(0,t._)`${Y}[${Z}]`),C(U)})}return this._for(new N("of",H,U,m),()=>C(U))}forIn(o,m,C,H=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${m})`,C);const U=this._scope.toName(o);return this._for(new N("in",H,U,m),()=>C(U))}endFor(){return this._endBlockNode(E)}label(o){return this._leafNode(new f(o))}break(o){return this._leafNode(new d(o))}return(o){const m=new F;if(this._blockNode(m),this.code(o),m.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(o,m,C){if(!m&&!C)throw new Error('CodeGen: "try" without "catch" and "finally"');const H=new I;if(this._blockNode(H),this.code(o),m){const U=this.name("e");this._currNode=H.catch=new K(U),m(U)}return C&&(this._currNode=H.finally=new W,this.code(C)),this._endBlockNode(K,W)}throw(o){return this._leafNode(new g(o))}block(o,m){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(m),this}endBlock(o){const m=this._blockStarts.pop();if(m===void 0)throw new Error("CodeGen: not in self-balancing block");const C=this._nodes.length-m;if(C<0||o!==void 0&&C!==o)throw new Error(`CodeGen: wrong number of nodes: ${C} vs ${o} expected`);return this._nodes.length=m,this}func(o,m=t.nil,C,H){return this._blockNode(new b(o,m,C)),H&&this.code(H).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,m){const C=this._currNode;if(C instanceof o||m&&C instanceof m)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${m?`${o.kind}/${m.kind}`:o.kind}"`)}_elseNode(o){const m=this._currNode;if(!(m instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=m.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const m=this._nodes;m[m.length-1]=o}}e.CodeGen=ce;function x(S,o){for(const m in o)S[m]=(S[m]||0)+(o[m]||0);return S}function Fe(S,o){return o instanceof t._CodeOrName?x(S,o.names):S}function ve(S,o,m){if(S instanceof t.Name)return C(S);if(!H(S))return S;return new t._Code(S._items.reduce((U,Y)=>(Y instanceof t.Name&&(Y=C(Y)),Y instanceof t._Code?U.push(...Y._items):U.push(Y),U),[]));function C(U){const Y=m[U.str];return Y===void 0||o[U.str]!==1?U:(delete o[U.str],Y)}function H(U){return U instanceof t._Code&&U._items.some(Y=>Y instanceof t.Name&&o[Y.str]===1&&m[Y.str]!==void 0)}}function St(S,o){for(const m in o)S[m]=(S[m]||0)-(o[m]||0)}function wt(S){return typeof S=="boolean"||typeof S=="number"||S===null?!S:(0,t._)`!${M(S)}`}e.not=wt;const kt=$(e.operators.AND);function br(...S){return S.reduce(kt)}e.and=br;const qt=$(e.operators.OR);function R(...S){return S.reduce(qt)}e.or=R;function $(S){return(o,m)=>o===t.nil?m:m===t.nil?o:(0,t._)`${M(o)} ${S} ${M(m)}`}function M(S){return S instanceof t.Name?S:(0,t._)`(${S})`}}(J);var te={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=J,r=fr;function n(b){const F={};for(const I of b)F[I]=!0;return F}e.toHash=n;function s(b,F){return typeof F=="boolean"?F:Object.keys(F).length===0?!0:(i(b,F),!a(F,b.self.RULES.all))}e.alwaysValidSchema=s;function i(b,F=b.schema){const{opts:I,self:K}=b;if(!I.strictSchema||typeof F=="boolean")return;const W=K.RULES.keywords;for(const ce in F)W[ce]||N(b,`unknown keyword: "${ce}"`)}e.checkUnknownRules=i;function a(b,F){if(typeof b=="boolean")return!b;for(const I in b)if(F[I])return!0;return!1}e.schemaHasRules=a;function l(b,F){if(typeof b=="boolean")return!b;for(const I in b)if(I!=="$ref"&&F.all[I])return!0;return!1}e.schemaHasRulesButRef=l;function u({topSchemaRef:b,schemaPath:F},I,K,W){if(!W){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${b}${F}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=u;function f(b){return O(decodeURIComponent(b))}e.unescapeFragment=f;function d(b){return encodeURIComponent(g(b))}e.escapeFragment=d;function g(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=g;function O(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=O;function A(b,F){if(Array.isArray(b))for(const I of b)F(I);else F(b)}e.eachItem=A;function _({mergeNames:b,mergeToName:F,mergeValues:I,resultToName:K}){return(W,ce,x,Fe)=>{const ve=x===void 0?ce:x instanceof t.Name?(ce instanceof t.Name?b(W,ce,x):F(W,ce,x),x):ce instanceof t.Name?(F(W,x,ce),ce):I(ce,x);return Fe===t.Name&&!(ve instanceof t.Name)?K(W,ve):ve}}e.mergeEvaluated={props:_({mergeNames:(b,F,I)=>b.if((0,t._)`${I} !== true && ${F} !== undefined`,()=>{b.if((0,t._)`${F} === true`,()=>b.assign(I,!0),()=>b.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${F})`))}),mergeToName:(b,F,I)=>b.if((0,t._)`${I} !== true`,()=>{F===!0?b.assign(I,!0):(b.assign(I,(0,t._)`${I} || {}`),y(b,I,F))}),mergeValues:(b,F)=>b===!0?!0:D(D({},b),F),resultToName:j}),items:_({mergeNames:(b,F,I)=>b.if((0,t._)`${I} !== true && ${F} !== undefined`,()=>b.assign(I,(0,t._)`${F} === true ? true : ${I} > ${F} ? ${I} : ${F}`)),mergeToName:(b,F,I)=>b.if((0,t._)`${I} !== true`,()=>b.assign(I,F===!0?!0:(0,t._)`${I} > ${F} ? ${I} : ${F}`)),mergeValues:(b,F)=>b===!0?!0:Math.max(b,F),resultToName:(b,F)=>b.var("items",F)})};function j(b,F){if(F===!0)return b.var("props",!0);const I=b.var("props",(0,t._)`{}`);return F!==void 0&&y(b,I,F),I}e.evaluatedPropsToName=j;function y(b,F,I){Object.keys(I).forEach(K=>b.assign((0,t._)`${F}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=y;const h={};function E(b,F){return b.scopeValue("func",{ref:F,code:h[F.code]||(h[F.code]=new r._Code(F.code))})}e.useFunc=E;var T;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(T=e.Type||(e.Type={}));function V(b,F,I){if(b instanceof t.Name){const K=F===T.Num;return I?K?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:K?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(b).toString():"/"+g(b)}e.getErrorPath=V;function N(b,F,I=b.opts.strictSchema){if(!!I){if(F=`strict mode: ${F}`,I===!0)throw new Error(F);b.self.logger.warn(F)}}e.checkStrictMode=N})(te);var qe={};Object.defineProperty(qe,"__esModule",{value:!0});const je=J,zp={data:new je.Name("data"),valCxt:new je.Name("valCxt"),instancePath:new je.Name("instancePath"),parentData:new je.Name("parentData"),parentDataProperty:new je.Name("parentDataProperty"),rootData:new je.Name("rootData"),dynamicAnchors:new je.Name("dynamicAnchors"),vErrors:new je.Name("vErrors"),errors:new je.Name("errors"),this:new je.Name("this"),self:new je.Name("self"),scope:new je.Name("scope"),json:new je.Name("json"),jsonPos:new je.Name("jsonPos"),jsonLen:new je.Name("jsonLen"),jsonPart:new je.Name("jsonPart")};qe.default=zp,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J,r=te,n=qe;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:h})=>h?(0,t.str)`"${y}" keyword must be ${h} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function s(y,h=e.keywordError,E,T){const{it:V}=y,{gen:N,compositeRule:b,allErrors:F}=V,I=g(y,h,E);(T!=null?T:b||F)?u(N,I):f(V,(0,t._)`[${I}]`)}e.reportError=s;function i(y,h=e.keywordError,E){const{it:T}=y,{gen:V,compositeRule:N,allErrors:b}=T,F=g(y,h,E);u(V,F),N||b||f(T,n.default.vErrors)}e.reportExtraError=i;function a(y,h){y.assign(n.default.errors,h),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(h,()=>y.assign((0,t._)`${n.default.vErrors}.length`,h),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=a;function l({gen:y,keyword:h,schemaValue:E,data:T,errsCount:V,it:N}){if(V===void 0)throw new Error("ajv implementation error");const b=y.name("err");y.forRange("i",V,n.default.errors,F=>{y.const(b,(0,t._)`${n.default.vErrors}[${F}]`),y.if((0,t._)`${b}.instancePath === undefined`,()=>y.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(n.default.instancePath,N.errorPath))),y.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${N.errSchemaPath}/${h}`),N.opts.verbose&&(y.assign((0,t._)`${b}.schema`,E),y.assign((0,t._)`${b}.data`,T))})}e.extendErrors=l;function u(y,h){const E=y.const("err",h);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${E}]`),(0,t._)`${n.default.vErrors}.push(${E})`),y.code((0,t._)`${n.default.errors}++`)}function f(y,h){const{gen:E,validateName:T,schemaEnv:V}=y;V.$async?E.throw((0,t._)`new ${y.ValidationError}(${h})`):(E.assign((0,t._)`${T}.errors`,h),E.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function g(y,h,E){const{createErrors:T}=y.it;return T===!1?(0,t._)`{}`:O(y,h,E)}function O(y,h,E={}){const{gen:T,it:V}=y,N=[A(V,E),_(y,E)];return j(y,h,N),T.object(...N)}function A({errorPath:y},{instancePath:h}){const E=h?(0,t.str)`${y}${(0,r.getErrorPath)(h,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,E)]}function _({keyword:y,it:{errSchemaPath:h}},{schemaPath:E,parentSchema:T}){let V=T?h:(0,t.str)`${h}/${y}`;return E&&(V=(0,t.str)`${V}${(0,r.getErrorPath)(E,r.Type.Str)}`),[d.schemaPath,V]}function j(y,{params:h,message:E},T){const{keyword:V,data:N,schemaValue:b,it:F}=y,{opts:I,propertyName:K,topSchemaRef:W,schemaPath:ce}=F;T.push([d.keyword,V],[d.params,typeof h=="function"?h(y):h||(0,t._)`{}`]),I.messages&&T.push([d.message,typeof E=="function"?E(y):E]),I.verbose&&T.push([d.schema,b],[d.parentSchema,(0,t._)`${W}${ce}`],[n.default.data,N]),K&&T.push([d.propertyName,K])}}(ur),Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.boolOrEmptySchema=Mt.topBoolOrEmptySchema=void 0;const Kp=ur,Gp=J,Bp=qe,Jp={message:"boolean schema is false"};function Xp(e){const{gen:t,schema:r,validateName:n}=e;r===!1?xi(e,!1):typeof r=="object"&&r.$async===!0?t.return(Bp.default.data):(t.assign((0,Gp._)`${n}.errors`,null),t.return(!0))}Mt.topBoolOrEmptySchema=Xp;function Wp(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),xi(e)):r.var(t,!0)}Mt.boolOrEmptySchema=Wp;function xi(e,t){const{gen:r,data:n}=e,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Kp.reportError)(s,Jp,void 0,t)}var dr={},yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.getRules=yt.isJSONType=void 0;const Yp=["string","number","integer","boolean","null","object","array"],Qp=new Set(Yp);function Zp(e){return typeof e=="string"&&Qp.has(e)}yt.isJSONType=Zp;function xp(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ue(D({},e),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}yt.getRules=xp;var tt={};Object.defineProperty(tt,"__esModule",{value:!0}),tt.shouldUseRule=tt.shouldUseGroup=tt.schemaHasRulesForType=void 0;function em({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&ea(e,n)}tt.schemaHasRulesForType=em;function ea(e,t){return t.rules.some(r=>ta(e,r))}tt.shouldUseGroup=ea;function ta(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}tt.shouldUseRule=ta,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=yt,r=tt,n=ur,s=J,i=te;var a;(function(T){T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong"})(a=e.DataType||(e.DataType={}));function l(T){const V=u(T.type);if(V.includes("null")){if(T.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!V.length&&T.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');T.nullable===!0&&V.push("null")}return V}e.getSchemaTypes=l;function u(T){const V=Array.isArray(T)?T:T?[T]:[];if(V.every(t.isJSONType))return V;throw new Error("type must be JSONType or JSONType[]: "+V.join(","))}e.getJSONTypes=u;function f(T,V){const{gen:N,data:b,opts:F}=T,I=g(V,F.coerceTypes),K=V.length>0&&!(I.length===0&&V.length===1&&(0,r.schemaHasRulesForType)(T,V[0]));if(K){const W=j(V,b,F.strictNumbers,a.Wrong);N.if(W,()=>{I.length?O(T,V,I):h(T)})}return K}e.coerceAndCheckDataType=f;const d=new Set(["string","number","integer","boolean","null"]);function g(T,V){return V?T.filter(N=>d.has(N)||V==="array"&&N==="array"):[]}function O(T,V,N){const{gen:b,data:F,opts:I}=T,K=b.let("dataType",(0,s._)`typeof ${F}`),W=b.let("coerced",(0,s._)`undefined`);I.coerceTypes==="array"&&b.if((0,s._)`${K} == 'object' && Array.isArray(${F}) && ${F}.length == 1`,()=>b.assign(F,(0,s._)`${F}[0]`).assign(K,(0,s._)`typeof ${F}`).if(j(V,F,I.strictNumbers),()=>b.assign(W,F))),b.if((0,s._)`${W} !== undefined`);for(const x of N)(d.has(x)||x==="array"&&I.coerceTypes==="array")&&ce(x);b.else(),h(T),b.endIf(),b.if((0,s._)`${W} !== undefined`,()=>{b.assign(F,W),A(T,W)});function ce(x){switch(x){case"string":b.elseIf((0,s._)`${K} == "number" || ${K} == "boolean"`).assign(W,(0,s._)`"" + ${F}`).elseIf((0,s._)`${F} === null`).assign(W,(0,s._)`""`);return;case"number":b.elseIf((0,s._)`${K} == "boolean" || ${F} === null
              || (${K} == "string" && ${F} && ${F} == +${F})`).assign(W,(0,s._)`+${F}`);return;case"integer":b.elseIf((0,s._)`${K} === "boolean" || ${F} === null
              || (${K} === "string" && ${F} && ${F} == +${F} && !(${F} % 1))`).assign(W,(0,s._)`+${F}`);return;case"boolean":b.elseIf((0,s._)`${F} === "false" || ${F} === 0 || ${F} === null`).assign(W,!1).elseIf((0,s._)`${F} === "true" || ${F} === 1`).assign(W,!0);return;case"null":b.elseIf((0,s._)`${F} === "" || ${F} === 0 || ${F} === false`),b.assign(W,null);return;case"array":b.elseIf((0,s._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${F} === null`).assign(W,(0,s._)`[${F}]`)}}}function A({gen:T,parentData:V,parentDataProperty:N},b){T.if((0,s._)`${V} !== undefined`,()=>T.assign((0,s._)`${V}[${N}]`,b))}function _(T,V,N,b=a.Correct){const F=b===a.Correct?s.operators.EQ:s.operators.NEQ;let I;switch(T){case"null":return(0,s._)`${V} ${F} null`;case"array":I=(0,s._)`Array.isArray(${V})`;break;case"object":I=(0,s._)`${V} && typeof ${V} == "object" && !Array.isArray(${V})`;break;case"integer":I=K((0,s._)`!(${V} % 1) && !isNaN(${V})`);break;case"number":I=K();break;default:return(0,s._)`typeof ${V} ${F} ${T}`}return b===a.Correct?I:(0,s.not)(I);function K(W=s.nil){return(0,s.and)((0,s._)`typeof ${V} == "number"`,W,N?(0,s._)`isFinite(${V})`:s.nil)}}e.checkDataType=_;function j(T,V,N,b){if(T.length===1)return _(T[0],V,N,b);let F;const I=(0,i.toHash)(T);if(I.array&&I.object){const K=(0,s._)`typeof ${V} != "object"`;F=I.null?K:(0,s._)`!${V} || ${K}`,delete I.null,delete I.array,delete I.object}else F=s.nil;I.number&&delete I.integer;for(const K in I)F=(0,s.and)(F,_(K,V,N,b));return F}e.checkDataTypes=j;const y={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:V})=>typeof T=="string"?(0,s._)`{type: ${T}}`:(0,s._)`{type: ${V}}`};function h(T){const V=E(T);(0,n.reportError)(V,y)}e.reportTypeError=h;function E(T){const{gen:V,data:N,schema:b}=T,F=(0,i.schemaRefOrVal)(T,b,"type");return{gen:V,keyword:"type",data:N,schema:b.type,schemaCode:F,schemaValue:F,parentSchema:b,params:{},it:T}}}(dr);var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.assignDefaults=void 0;const Nt=J,tm=te;function rm(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const s in r)ra(e,s,r[s].default);else t==="array"&&Array.isArray(n)&&n.forEach((s,i)=>ra(e,i,s.default))}Gr.assignDefaults=rm;function ra(e,t,r){const{gen:n,compositeRule:s,data:i,opts:a}=e;if(r===void 0)return;const l=(0,Nt._)`${i}${(0,Nt.getProperty)(t)}`;if(s){(0,tm.checkStrictMode)(e,`default is ignored for: ${l}`);return}let u=(0,Nt._)`${l} === undefined`;a.useDefaults==="empty"&&(u=(0,Nt._)`${u} || ${l} === null || ${l} === ""`),n.if(u,(0,Nt._)`${l} = ${(0,Nt.stringify)(r)}`)}var ze={},X={};Object.defineProperty(X,"__esModule",{value:!0}),X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const ie=J,Qn=te,lt=qe,nm=te;function sm(e,t){const{gen:r,data:n,it:s}=e;r.if(xn(r,n,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ie._)`${t}`},!0),e.error()})}X.checkReportMissingProp=sm;function im({gen:e,data:t,it:{opts:r}},n,s){return(0,ie.or)(...n.map(i=>(0,ie.and)(xn(e,t,i,r.ownProperties),(0,ie._)`${s} = ${i}`)))}X.checkMissingProp=im;function am(e,t){e.setParams({missingProperty:t},!0),e.error()}X.reportMissingProp=am;function na(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ie._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=na;function Zn(e,t,r){return(0,ie._)`${na(e)}.call(${t}, ${r})`}X.isOwnProperty=Zn;function om(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} !== undefined`;return n?(0,ie._)`${s} && ${Zn(e,t,r)}`:s}X.propertyInData=om;function xn(e,t,r,n){const s=(0,ie._)`${t}${(0,ie.getProperty)(r)} === undefined`;return n?(0,ie.or)(s,(0,ie.not)(Zn(e,t,r))):s}X.noPropertyInData=xn;function sa(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}X.allSchemaProperties=sa;function lm(e,t){return sa(t).filter(r=>!(0,Qn.alwaysValidSchema)(e,t[r]))}X.schemaProperties=lm;function cm({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:i},it:a},l,u,f){const d=f?(0,ie._)`${e}, ${t}, ${n}${s}`:t,g=[[lt.default.instancePath,(0,ie.strConcat)(lt.default.instancePath,i)],[lt.default.parentData,a.parentData],[lt.default.parentDataProperty,a.parentDataProperty],[lt.default.rootData,lt.default.rootData]];a.opts.dynamicRef&&g.push([lt.default.dynamicAnchors,lt.default.dynamicAnchors]);const O=(0,ie._)`${d}, ${r.object(...g)}`;return u!==ie.nil?(0,ie._)`${l}.call(${u}, ${O})`:(0,ie._)`${l}(${O})`}X.callValidateCode=cm;const um=(0,ie._)`new RegExp`;function fm({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:s}=t.code,i=s(r,n);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,ie._)`${s.code==="new RegExp"?um:(0,nm.useFunc)(e,s)}(${r}, ${n})`})}X.usePattern=fm;function dm(e){const{gen:t,data:r,keyword:n,it:s}=e,i=t.name("valid");if(s.allErrors){const l=t.let("valid",!0);return a(()=>t.assign(l,!1)),l}return t.var(i,!0),a(()=>t.break()),i;function a(l){const u=t.const("len",(0,ie._)`${r}.length`);t.forRange("i",0,u,f=>{e.subschema({keyword:n,dataProp:f,dataPropType:Qn.Type.Num},i),t.if((0,ie.not)(i),l)})}}X.validateArray=dm;function hm(e){const{gen:t,schema:r,keyword:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,Qn.alwaysValidSchema)(s,u))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((u,f)=>{const d=e.subschema({keyword:n,schemaProp:f,compositeRule:!0},l);t.assign(a,(0,ie._)`${a} || ${l}`),e.mergeValidEvaluated(d,l)||t.if((0,ie.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}X.validateUnion=hm,Object.defineProperty(ze,"__esModule",{value:!0}),ze.validateKeywordUsage=ze.validSchemaType=ze.funcKeywordCode=ze.macroKeywordCode=void 0;const Ee=J,$t=qe,pm=X,mm=ur;function vm(e,t){const{gen:r,keyword:n,schema:s,parentSchema:i,it:a}=e,l=t.macro.call(a.self,s,i,a),u=aa(r,n,l);a.opts.validateSchema!==!1&&a.self.validateSchema(l,!0);const f=r.name("valid");e.subschema({schema:l,schemaPath:Ee.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},f),e.pass(f,()=>e.error(!0))}ze.macroKeywordCode=vm;function gm(e,t){var r;const{gen:n,keyword:s,schema:i,parentSchema:a,$data:l,it:u}=e;$m(u,t);const f=!l&&t.compile?t.compile.call(u.self,i,a,u):t.validate,d=aa(n,s,f),g=n.let("valid");e.block$data(g,O),e.ok((r=t.valid)!==null&&r!==void 0?r:g);function O(){if(t.errors===!1)j(),t.modifying&&ia(e),y(()=>e.error());else{const h=t.async?A():_();t.modifying&&ia(e),y(()=>ym(e,h))}}function A(){const h=n.let("ruleErrs",null);return n.try(()=>j((0,Ee._)`await `),E=>n.assign(g,!1).if((0,Ee._)`${E} instanceof ${u.ValidationError}`,()=>n.assign(h,(0,Ee._)`${E}.errors`),()=>n.throw(E))),h}function _(){const h=(0,Ee._)`${d}.errors`;return n.assign(h,null),j(Ee.nil),h}function j(h=t.async?(0,Ee._)`await `:Ee.nil){const E=u.opts.passContext?$t.default.this:$t.default.self,T=!("compile"in t&&!l||t.schema===!1);n.assign(g,(0,Ee._)`${h}${(0,pm.callValidateCode)(e,d,E,T)}`,t.modifying)}function y(h){var E;n.if((0,Ee.not)((E=t.valid)!==null&&E!==void 0?E:g),h)}}ze.funcKeywordCode=gm;function ia(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Ee._)`${n.parentData}[${n.parentDataProperty}]`))}function ym(e,t){const{gen:r}=e;r.if((0,Ee._)`Array.isArray(${t})`,()=>{r.assign($t.default.vErrors,(0,Ee._)`${$t.default.vErrors} === null ? ${t} : ${$t.default.vErrors}.concat(${t})`).assign($t.default.errors,(0,Ee._)`${$t.default.vErrors}.length`),(0,mm.extendErrors)(e)},()=>e.error())}function $m({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function aa(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Ee.stringify)(r)})}function _m(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e=="undefined")}ze.validSchemaType=_m;function jm({schema:e,opts:t,self:r,errSchemaPath:n},s,i){if(Array.isArray(s.keyword)?!s.keyword.includes(i):s.keyword!==i)throw new Error("ajv implementation error");const a=s.dependencies;if(a!=null&&a.some(l=>!Object.prototype.hasOwnProperty.call(e,l)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[i])){const u=`keyword "${i}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}ze.validateKeywordUsage=jm;var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.extendSubschemaMode=ct.extendSubschemaData=ct.getSubschema=void 0;const Ke=J,oa=te;function Em(e,{keyword:t,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const l=e.schema[t];return r===void 0?{schema:l,schemaPath:(0,Ke._)`${e.schemaPath}${(0,Ke.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:l[r],schemaPath:(0,Ke._)`${e.schemaPath}${(0,Ke.getProperty)(t)}${(0,Ke.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,oa.escapeFragment)(r)}`}}if(n!==void 0){if(s===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:s,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}ct.getSubschema=Em;function bm(e,t,{dataProp:r,dataPropType:n,data:s,dataTypes:i,propertyName:a}){if(s!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:l}=t;if(r!==void 0){const{errorPath:f,dataPathArr:d,opts:g}=t,O=l.let("data",(0,Ke._)`${t.data}${(0,Ke.getProperty)(r)}`,!0);u(O),e.errorPath=(0,Ke.str)`${f}${(0,oa.getErrorPath)(r,n,g.jsPropertySyntax)}`,e.parentDataProperty=(0,Ke._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(s!==void 0){const f=s instanceof Ke.Name?s:l.let("data",s,!0);u(f),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function u(f){e.data=f,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,f]}}ct.extendSubschemaData=bm;function Sm(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:i}){n!==void 0&&(e.compositeRule=n),s!==void 0&&(e.createErrors=s),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}ct.extendSubschemaMode=Sm;var ye={},la=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var a=i[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},ca={exports:{}},ut=ca.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Br(t,n,s,e,"",e)};ut.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},ut.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},ut.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},ut.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Br(e,t,r,n,s,i,a,l,u,f){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,s,i,a,l,u,f);for(var d in n){var g=n[d];if(Array.isArray(g)){if(d in ut.arrayKeywords)for(var O=0;O<g.length;O++)Br(e,t,r,g[O],s+"/"+d+"/"+O,i,s,d,n,O)}else if(d in ut.propsKeywords){if(g&&typeof g=="object")for(var A in g)Br(e,t,r,g[A],s+"/"+d+"/"+wm(A),i,s,d,n,A)}else(d in ut.keywords||e.allKeys&&!(d in ut.skipKeywords))&&Br(e,t,r,g,s+"/"+d,i,s,d,n)}r(n,s,i,a,l,u,f)}}function wm(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(ye,"__esModule",{value:!0}),ye.getSchemaRefs=ye.resolveUrl=ye.normalizeId=ye._getFullPath=ye.getFullPath=ye.inlineRef=void 0;const Pm=te,Om=la,Tm=ca.exports,Fm=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Am(e,t=!0){return typeof e=="boolean"?!0:t===!0?!es(e):t?ua(e)<=t:!1}ye.inlineRef=Am;const Cm=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function es(e){for(const t in e){if(Cm.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(es)||typeof r=="object"&&es(r))return!0}return!1}function ua(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Fm.has(r)&&(typeof e[r]=="object"&&(0,Pm.eachItem)(e[r],n=>t+=ua(n)),t===1/0))return 1/0}return t}function fa(e,t="",r){r!==!1&&(t=It(t));const n=e.parse(t);return da(e,n)}ye.getFullPath=fa;function da(e,t){return e.serialize(t).split("#")[0]+"#"}ye._getFullPath=da;const Vm=/#\/?$/;function It(e){return e?e.replace(Vm,""):""}ye.normalizeId=It;function Mm(e,t,r){return r=It(r),e.resolve(t,r)}ye.resolveUrl=Mm;const Nm=/^[a-z_][-a-z0-9._]*$/i;function Im(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,s=It(e[r]||t),i={"":s},a=fa(n,s,!1),l={},u=new Set;return Tm(e,{allKeys:!0},(g,O,A,_)=>{if(_===void 0)return;const j=a+O;let y=i[_];typeof g[r]=="string"&&(y=h.call(this,g[r])),E.call(this,g.$anchor),E.call(this,g.$dynamicAnchor),i[O]=y;function h(T){const V=this.opts.uriResolver.resolve;if(T=It(y?V(y,T):T),u.has(T))throw d(T);u.add(T);let N=this.refs[T];return typeof N=="string"&&(N=this.refs[N]),typeof N=="object"?f(g,N.schema,T):T!==It(j)&&(T[0]==="#"?(f(g,l[T],T),l[T]=g):this.refs[T]=j),T}function E(T){if(typeof T=="string"){if(!Nm.test(T))throw new Error(`invalid anchor "${T}"`);h.call(this,`#${T}`)}}}),l;function f(g,O,A){if(O!==void 0&&!Om(g,O))throw d(A)}function d(g){return new Error(`reference "${g}" resolves to more than one schema`)}}ye.getSchemaRefs=Im,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.getData=Ve.KeywordCxt=Ve.validateFunctionCode=void 0;const ha=Mt,pa=dr,ts=tt,Jr=dr,Rm=Gr,hr=ze,rs=ct,L=J,z=qe,Dm=ye,rt=te,pr=ur;function Hm(e){if(ya(e)&&($a(e),ga(e))){km(e);return}ma(e,()=>(0,ha.topBoolOrEmptySchema)(e))}Ve.validateFunctionCode=Hm;function ma({gen:e,validateName:t,schema:r,schemaEnv:n,opts:s},i){s.code.es5?e.func(t,(0,L._)`${z.default.data}, ${z.default.valCxt}`,n.$async,()=>{e.code((0,L._)`"use strict"; ${va(r,s)}`),Lm(e,s),e.code(i)}):e.func(t,(0,L._)`${z.default.data}, ${Um(s)}`,n.$async,()=>e.code(va(r,s)).code(i))}function Um(e){return(0,L._)`{${z.default.instancePath}="", ${z.default.parentData}, ${z.default.parentDataProperty}, ${z.default.rootData}=${z.default.data}${e.dynamicRef?(0,L._)`, ${z.default.dynamicAnchors}={}`:L.nil}}={}`}function Lm(e,t){e.if(z.default.valCxt,()=>{e.var(z.default.instancePath,(0,L._)`${z.default.valCxt}.${z.default.instancePath}`),e.var(z.default.parentData,(0,L._)`${z.default.valCxt}.${z.default.parentData}`),e.var(z.default.parentDataProperty,(0,L._)`${z.default.valCxt}.${z.default.parentDataProperty}`),e.var(z.default.rootData,(0,L._)`${z.default.valCxt}.${z.default.rootData}`),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,L._)`${z.default.valCxt}.${z.default.dynamicAnchors}`)},()=>{e.var(z.default.instancePath,(0,L._)`""`),e.var(z.default.parentData,(0,L._)`undefined`),e.var(z.default.parentDataProperty,(0,L._)`undefined`),e.var(z.default.rootData,z.default.data),t.dynamicRef&&e.var(z.default.dynamicAnchors,(0,L._)`{}`)})}function km(e){const{schema:t,opts:r,gen:n}=e;ma(e,()=>{r.$comment&&t.$comment&&ja(e),Bm(e),n.let(z.default.vErrors,null),n.let(z.default.errors,0),r.unevaluated&&qm(e),_a(e),Wm(e)})}function qm(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,L._)`${r}.evaluated`),t.if((0,L._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,L._)`${e.evaluated}.props`,(0,L._)`undefined`)),t.if((0,L._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,L._)`${e.evaluated}.items`,(0,L._)`undefined`))}function va(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,L._)`/*# sourceURL=${r} */`:L.nil}function zm(e,t){if(ya(e)&&($a(e),ga(e))){Km(e,t);return}(0,ha.boolOrEmptySchema)(e,t)}function ga({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function ya(e){return typeof e.schema!="boolean"}function Km(e,t){const{schema:r,gen:n,opts:s}=e;s.$comment&&r.$comment&&ja(e),Jm(e),Xm(e);const i=n.const("_errs",z.default.errors);_a(e,i),n.var(t,(0,L._)`${i} === ${z.default.errors}`)}function $a(e){(0,rt.checkUnknownRules)(e),Gm(e)}function _a(e,t){if(e.opts.jtd)return Ea(e,[],!1,t);const r=(0,pa.getSchemaTypes)(e.schema),n=(0,pa.coerceAndCheckDataType)(e,r);Ea(e,r,!n,t)}function Gm(e){const{schema:t,errSchemaPath:r,opts:n,self:s}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,rt.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Bm(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,rt.checkStrictMode)(e,"default is ignored in the schema root")}function Jm(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Dm.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Xm(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ja({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:s}){const i=r.$comment;if(s.$comment===!0)e.code((0,L._)`${z.default.self}.logger.log(${i})`);else if(typeof s.$comment=="function"){const a=(0,L.str)`${n}/$comment`,l=e.scopeValue("root",{ref:t.root});e.code((0,L._)`${z.default.self}.opts.$comment(${i}, ${a}, ${l}.schema)`)}}function Wm(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:s,opts:i}=e;r.$async?t.if((0,L._)`${z.default.errors} === 0`,()=>t.return(z.default.data),()=>t.throw((0,L._)`new ${s}(${z.default.vErrors})`)):(t.assign((0,L._)`${n}.errors`,z.default.vErrors),i.unevaluated&&Ym(e),t.return((0,L._)`${z.default.errors} === 0`))}function Ym({gen:e,evaluated:t,props:r,items:n}){r instanceof L.Name&&e.assign((0,L._)`${t}.props`,r),n instanceof L.Name&&e.assign((0,L._)`${t}.items`,n)}function Ea(e,t,r,n){const{gen:s,schema:i,data:a,allErrors:l,opts:u,self:f}=e,{RULES:d}=f;if(i.$ref&&(u.ignoreKeywordsWithRef||!(0,rt.schemaHasRulesButRef)(i,d))){s.block(()=>Pa(e,"$ref",d.all.$ref.definition));return}u.jtd||Qm(e,t),s.block(()=>{for(const O of d.rules)g(O);g(d.post)});function g(O){!(0,ts.shouldUseGroup)(i,O)||(O.type?(s.if((0,Jr.checkDataType)(O.type,a,u.strictNumbers)),ba(e,O),t.length===1&&t[0]===O.type&&r&&(s.else(),(0,Jr.reportTypeError)(e)),s.endIf()):ba(e,O),l||s.if((0,L._)`${z.default.errors} === ${n||0}`))}}function ba(e,t){const{gen:r,schema:n,opts:{useDefaults:s}}=e;s&&(0,Rm.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,ts.shouldUseRule)(n,i)&&Pa(e,i.keyword,i.definition,t.type)})}function Qm(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Zm(e,t),e.opts.allowUnionTypes||xm(e,t),ev(e,e.dataTypes))}function Zm(e,t){if(!!t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Sa(e.dataTypes,r)||ns(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),e.dataTypes=e.dataTypes.filter(r=>Sa(t,r))}}function xm(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ns(e,"use allowUnionTypes to allow union type keyword")}function ev(e,t){const r=e.self.RULES.all;for(const n in r){const s=r[n];if(typeof s=="object"&&(0,ts.shouldUseRule)(e.schema,s)){const{type:i}=s.definition;i.length&&!i.some(a=>tv(t,a))&&ns(e,`missing type "${i.join(",")}" for keyword "${n}"`)}}}function tv(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Sa(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ns(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,rt.checkStrictMode)(e,t,e.opts.strictTypes)}class wa{constructor(t,r,n){if((0,hr.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,rt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Oa(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,hr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",z.default.errors))}result(t,r,n){this.failResult((0,L.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,L.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,L._)`${r} !== undefined && (${(0,L.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?pr.reportExtraError:pr.reportError)(this,this.def.error,r)}$dataError(){(0,pr.reportError)(this,this.def.$dataError||pr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,pr.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=L.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=L.nil,r=L.nil){if(!this.$data)return;const{gen:n,schemaCode:s,schemaType:i,def:a}=this;n.if((0,L.or)((0,L._)`${s} === undefined`,r)),t!==L.nil&&n.assign(t,!0),(i.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==L.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:s,it:i}=this;return(0,L.or)(a(),l());function a(){if(n.length){if(!(r instanceof L.Name))throw new Error("ajv implementation error");const u=Array.isArray(n)?n:[n];return(0,L._)`${(0,Jr.checkDataTypes)(u,r,i.opts.strictNumbers,Jr.DataType.Wrong)}`}return L.nil}function l(){if(s.validateSchema){const u=t.scopeValue("validate$data",{ref:s.validateSchema});return(0,L._)`!${u}(${r})`}return L.nil}}subschema(t,r){const n=(0,rs.getSubschema)(this.it,t);(0,rs.extendSubschemaData)(n,this.it,t),(0,rs.extendSubschemaMode)(n,t);const s=ue(D(D({},this.it),n),{items:void 0,props:void 0});return zm(s,r),s}mergeEvaluated(t,r){const{it:n,gen:s}=this;!n.opts.unevaluated||(n.props!==!0&&t.props!==void 0&&(n.props=rt.mergeEvaluated.props(s,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=rt.mergeEvaluated.items(s,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(t,L.Name)),!0}}Ve.KeywordCxt=wa;function Pa(e,t,r,n){const s=new wa(e,r,t);"code"in r?r.code(s,n):s.$data&&r.validate?(0,hr.funcKeywordCode)(s,r):"macro"in r?(0,hr.macroKeywordCode)(s,r):(r.compile||r.validate)&&(0,hr.funcKeywordCode)(s,r)}const rv=/^\/(?:[^~]|~0|~1)*$/,nv=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oa(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let s,i;if(e==="")return z.default.rootData;if(e[0]==="/"){if(!rv.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,i=z.default.rootData}else{const f=nv.exec(e);if(!f)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+f[1];if(s=f[2],s==="#"){if(d>=t)throw new Error(u("property/index",d));return n[t-d]}if(d>t)throw new Error(u("data",d));if(i=r[t-d],!s)return i}let a=i;const l=s.split("/");for(const f of l)f&&(i=(0,L._)`${i}${(0,L.getProperty)((0,rt.unescapeJsonPointer)(f))}`,a=(0,L._)`${a} && ${i}`);return a;function u(f,d){return`Cannot access ${f} ${d} levels up, current level is ${t}`}}Ve.getData=Oa;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});class sv extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Xr.default=sv;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const ss=ye;class iv extends Error{constructor(t,r,n,s){super(s||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,ss.resolveUrl)(t,r,n),this.missingSchema=(0,ss.normalizeId)((0,ss.getFullPath)(t,this.missingRef))}}Wr.default=iv;var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.resolveSchema=be.getCompilingSchema=be.resolveRef=be.compileSchema=be.SchemaEnv=void 0;const Me=J,av=Xr,_t=qe,Ne=ye,Ta=te,ov=Ve;class Yr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Ne.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}be.SchemaEnv=Yr;function is(e){const t=Fa.call(this,e);if(t)return t;const r=(0,Ne.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:i}=this.opts,a=new Me.CodeGen(this.scope,{es5:n,lines:s,ownProperties:i});let l;e.$async&&(l=a.scopeValue("Error",{ref:av.default,code:(0,Me._)`require("ajv/dist/runtime/validation_error").default`}));const u=a.scopeName("validate");e.validateName=u;const f={gen:a,allErrors:this.opts.allErrors,data:_t.default.data,parentData:_t.default.parentData,parentDataProperty:_t.default.parentDataProperty,dataNames:[_t.default.data],dataPathArr:[Me.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Me.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:l,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Me.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Me._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,ov.validateFunctionCode)(f),a.optimize(this.opts.code.optimize);const g=a.toString();d=`${a.scopeRefs(_t.default.scope)}return ${g}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const A=new Function(`${_t.default.self}`,`${_t.default.scope}`,d)(this,this.scope.get());if(this.scope.value(u,{ref:A}),A.errors=null,A.schema=e.schema,A.schemaEnv=e,e.$async&&(A.$async=!0),this.opts.code.source===!0&&(A.source={validateName:u,validateCode:g,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:j}=f;A.evaluated={props:_ instanceof Me.Name?void 0:_,items:j instanceof Me.Name?void 0:j,dynamicProps:_ instanceof Me.Name,dynamicItems:j instanceof Me.Name},A.source&&(A.source.evaluated=(0,Me.stringify)(A.evaluated))}return e.validate=A,e}catch(g){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),g}finally{this._compilations.delete(e)}}be.compileSchema=is;function lv(e,t,r){var n;r=(0,Ne.resolveUrl)(this.opts.uriResolver,t,r);const s=e.refs[r];if(s)return s;let i=fv.call(this,e,r);if(i===void 0){const a=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:l}=this.opts;a&&(i=new Yr({schema:a,schemaId:l,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=cv.call(this,i)}be.resolveRef=lv;function cv(e){return(0,Ne.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:is.call(this,e)}function Fa(e){for(const t of this._compilations)if(uv(t,e))return t}be.getCompilingSchema=Fa;function uv(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function fv(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Qr.call(this,e,t)}function Qr(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Ne._getFullPath)(this.opts.uriResolver,r);let s=(0,Ne.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===s)return as.call(this,r,e);const i=(0,Ne.normalizeId)(n),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const l=Qr.call(this,e,a);return typeof(l==null?void 0:l.schema)!="object"?void 0:as.call(this,r,l)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||is.call(this,a),i===(0,Ne.normalizeId)(t)){const{schema:l}=a,{schemaId:u}=this.opts,f=l[u];return f&&(s=(0,Ne.resolveUrl)(this.opts.uriResolver,s,f)),new Yr({schema:l,schemaId:u,root:e,baseId:s})}return as.call(this,r,a)}}be.resolveSchema=Qr;const dv=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function as(e,{baseId:t,schema:r,root:n}){var s;if(((s=e.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(const l of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,Ta.unescapeFragment)(l)];if(u===void 0)return;r=u;const f=typeof r=="object"&&r[this.opts.schemaId];!dv.has(l)&&f&&(t=(0,Ne.resolveUrl)(this.opts.uriResolver,t,f))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,Ta.schemaHasRulesButRef)(r,this.RULES)){const l=(0,Ne.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Qr.call(this,n,l)}const{schemaId:a}=this.opts;if(i=i||new Yr({schema:r,schemaId:a,root:n,baseId:t}),i.schema!==i.root.schema)return i}var hv={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},os={},ls={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(kp,function(r){function n(){for(var p=arguments.length,c=Array(p),v=0;v<p;v++)c[v]=arguments[v];if(c.length>1){c[0]=c[0].slice(0,-1);for(var P=c.length-1,w=1;w<P;++w)c[w]=c[w].slice(1,-1);return c[P]=c[P].slice(1),c.join("")}else return c[0]}function s(p){return"(?:"+p+")"}function i(p){return p===void 0?"undefined":p===null?"null":Object.prototype.toString.call(p).split(" ").pop().split("]").shift().toLowerCase()}function a(p){return p.toUpperCase()}function l(p){return p!=null?p instanceof Array?p:typeof p.length!="number"||p.split||p.setInterval||p.call?[p]:Array.prototype.slice.call(p):[]}function u(p,c){var v=p;if(c)for(var P in c)v[P]=c[P];return v}function f(p){var c="[A-Za-z]",v="[0-9]",P=n(v,"[A-Fa-f]"),w=s(s("%[EFef]"+P+"%"+P+P+"%"+P+P)+"|"+s("%[89A-Fa-f]"+P+"%"+P+P)+"|"+s("%"+P+P)),k="[\\:\\/\\?\\#\\[\\]\\@]",q="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ee=n(k,q),ae=p?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",pe=p?"[\\uE000-\\uF8FF]":"[]",Q=n(c,v,"[\\-\\.\\_\\~]",ae);s(c+n(c,v,"[\\+\\-\\.]")+"*"),s(s(w+"|"+n(Q,q,"[\\:]"))+"*");var ne=s(s("25[0-5]")+"|"+s("2[0-4]"+v)+"|"+s("1"+v+v)+"|"+s("0?[1-9]"+v)+"|0?0?"+v),me=s(ne+"\\."+ne+"\\."+ne+"\\."+ne),G=s(P+"{1,4}"),oe=s(s(G+"\\:"+G)+"|"+me),ge=s(s(G+"\\:")+"{6}"+oe),le=s("\\:\\:"+s(G+"\\:")+"{5}"+oe),dt=s(s(G)+"?\\:\\:"+s(G+"\\:")+"{4}"+oe),Xe=s(s(s(G+"\\:")+"{0,1}"+G)+"?\\:\\:"+s(G+"\\:")+"{3}"+oe),We=s(s(s(G+"\\:")+"{0,2}"+G)+"?\\:\\:"+s(G+"\\:")+"{2}"+oe),Wt=s(s(s(G+"\\:")+"{0,3}"+G)+"?\\:\\:"+G+"\\:"+oe),Tt=s(s(s(G+"\\:")+"{0,4}"+G)+"?\\:\\:"+oe),Ce=s(s(s(G+"\\:")+"{0,5}"+G)+"?\\:\\:"+G),Ye=s(s(s(G+"\\:")+"{0,6}"+G)+"?\\:\\:"),Ft=s([ge,le,dt,Xe,We,Wt,Tt,Ce,Ye].join("|")),nt=s(s(Q+"|"+w)+"+");s("[vV]"+P+"+\\."+n(Q,q,"[\\:]")+"+"),s(s(w+"|"+n(Q,q))+"*");var Cr=s(w+"|"+n(Q,q,"[\\:\\@]"));return s(s(w+"|"+n(Q,q,"[\\@]"))+"+"),s(s(Cr+"|"+n("[\\/\\?]",pe))+"*"),{NOT_SCHEME:new RegExp(n("[^]",c,v,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Q,q),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Q,q),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Q,q),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Q,q),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Q,q,"[\\:\\@\\/\\?]",pe),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Q,q,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Q,q),"g"),UNRESERVED:new RegExp(Q,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Q,ee),"g"),PCT_ENCODED:new RegExp(w,"g"),IPV4ADDRESS:new RegExp("^("+me+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ft+")"+s(s("\\%25|\\%(?!"+P+"{2})")+"("+nt+")")+"?\\]?$")}}var d=f(!1),g=f(!0),O=function(){function p(c,v){var P=[],w=!0,k=!1,q=void 0;try{for(var ee=c[Symbol.iterator](),ae;!(w=(ae=ee.next()).done)&&(P.push(ae.value),!(v&&P.length===v));w=!0);}catch(pe){k=!0,q=pe}finally{try{!w&&ee.return&&ee.return()}finally{if(k)throw q}}return P}return function(c,v){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return p(c,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(p){if(Array.isArray(p)){for(var c=0,v=Array(p.length);c<p.length;c++)v[c]=p[c];return v}else return Array.from(p)},_=2147483647,j=36,y=1,h=26,E=38,T=700,V=72,N=128,b="-",F=/^xn--/,I=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ce=j-y,x=Math.floor,Fe=String.fromCharCode;function ve(p){throw new RangeError(W[p])}function St(p,c){for(var v=[],P=p.length;P--;)v[P]=c(p[P]);return v}function wt(p,c){var v=p.split("@"),P="";v.length>1&&(P=v[0]+"@",p=v[1]),p=p.replace(K,".");var w=p.split("."),k=St(w,c).join(".");return P+k}function kt(p){for(var c=[],v=0,P=p.length;v<P;){var w=p.charCodeAt(v++);if(w>=55296&&w<=56319&&v<P){var k=p.charCodeAt(v++);(k&64512)==56320?c.push(((w&1023)<<10)+(k&1023)+65536):(c.push(w),v--)}else c.push(w)}return c}var br=function(c){return String.fromCodePoint.apply(String,A(c))},qt=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:j},R=function(c,v){return c+22+75*(c<26)-((v!=0)<<5)},$=function(c,v,P){var w=0;for(c=P?x(c/T):c>>1,c+=x(c/v);c>ce*h>>1;w+=j)c=x(c/ce);return x(w+(ce+1)*c/(c+E))},M=function(c){var v=[],P=c.length,w=0,k=N,q=V,ee=c.lastIndexOf(b);ee<0&&(ee=0);for(var ae=0;ae<ee;++ae)c.charCodeAt(ae)>=128&&ve("not-basic"),v.push(c.charCodeAt(ae));for(var pe=ee>0?ee+1:0;pe<P;){for(var Q=w,ne=1,me=j;;me+=j){pe>=P&&ve("invalid-input");var G=qt(c.charCodeAt(pe++));(G>=j||G>x((_-w)/ne))&&ve("overflow"),w+=G*ne;var oe=me<=q?y:me>=q+h?h:me-q;if(G<oe)break;var ge=j-oe;ne>x(_/ge)&&ve("overflow"),ne*=ge}var le=v.length+1;q=$(w-Q,le,Q==0),x(w/le)>_-k&&ve("overflow"),k+=x(w/le),w%=le,v.splice(w++,0,k)}return String.fromCodePoint.apply(String,v)},S=function(c){var v=[];c=kt(c);var P=c.length,w=N,k=0,q=V,ee=!0,ae=!1,pe=void 0;try{for(var Q=c[Symbol.iterator](),ne;!(ee=(ne=Q.next()).done);ee=!0){var me=ne.value;me<128&&v.push(Fe(me))}}catch(Vr){ae=!0,pe=Vr}finally{try{!ee&&Q.return&&Q.return()}finally{if(ae)throw pe}}var G=v.length,oe=G;for(G&&v.push(b);oe<P;){var ge=_,le=!0,dt=!1,Xe=void 0;try{for(var We=c[Symbol.iterator](),Wt;!(le=(Wt=We.next()).done);le=!0){var Tt=Wt.value;Tt>=w&&Tt<ge&&(ge=Tt)}}catch(Vr){dt=!0,Xe=Vr}finally{try{!le&&We.return&&We.return()}finally{if(dt)throw Xe}}var Ce=oe+1;ge-w>x((_-k)/Ce)&&ve("overflow"),k+=(ge-w)*Ce,w=ge;var Ye=!0,Ft=!1,nt=void 0;try{for(var Cr=c[Symbol.iterator](),lo;!(Ye=(lo=Cr.next()).done);Ye=!0){var co=lo.value;if(co<w&&++k>_&&ve("overflow"),co==w){for(var hn=k,pn=j;;pn+=j){var mn=pn<=q?y:pn>=q+h?h:pn-q;if(hn<mn)break;var uo=hn-mn,fo=j-mn;v.push(Fe(R(mn+uo%fo,0))),hn=x(uo/fo)}v.push(Fe(R(hn,0))),q=$(k,Ce,oe==G),k=0,++oe}}}catch(Vr){Ft=!0,nt=Vr}finally{try{!Ye&&Cr.return&&Cr.return()}finally{if(Ft)throw nt}}++k,++w}return v.join("")},o=function(c){return wt(c,function(v){return F.test(v)?M(v.slice(4).toLowerCase()):v})},m=function(c){return wt(c,function(v){return I.test(v)?"xn--"+S(v):v})},C={version:"2.1.0",ucs2:{decode:kt,encode:br},decode:M,encode:S,toASCII:m,toUnicode:o},H={};function U(p){var c=p.charCodeAt(0),v=void 0;return c<16?v="%0"+c.toString(16).toUpperCase():c<128?v="%"+c.toString(16).toUpperCase():c<2048?v="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():v="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),v}function Y(p){for(var c="",v=0,P=p.length;v<P;){var w=parseInt(p.substr(v+1,2),16);if(w<128)c+=String.fromCharCode(w),v+=3;else if(w>=194&&w<224){if(P-v>=6){var k=parseInt(p.substr(v+4,2),16);c+=String.fromCharCode((w&31)<<6|k&63)}else c+=p.substr(v,6);v+=6}else if(w>=224){if(P-v>=9){var q=parseInt(p.substr(v+4,2),16),ee=parseInt(p.substr(v+7,2),16);c+=String.fromCharCode((w&15)<<12|(q&63)<<6|ee&63)}else c+=p.substr(v,9);v+=9}else c+=p.substr(v,3),v+=3}return c}function Z(p,c){function v(P){var w=Y(P);return w.match(c.UNRESERVED)?w:P}return p.scheme&&(p.scheme=String(p.scheme).replace(c.PCT_ENCODED,v).toLowerCase().replace(c.NOT_SCHEME,"")),p.userinfo!==void 0&&(p.userinfo=String(p.userinfo).replace(c.PCT_ENCODED,v).replace(c.NOT_USERINFO,U).replace(c.PCT_ENCODED,a)),p.host!==void 0&&(p.host=String(p.host).replace(c.PCT_ENCODED,v).toLowerCase().replace(c.NOT_HOST,U).replace(c.PCT_ENCODED,a)),p.path!==void 0&&(p.path=String(p.path).replace(c.PCT_ENCODED,v).replace(p.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,U).replace(c.PCT_ENCODED,a)),p.query!==void 0&&(p.query=String(p.query).replace(c.PCT_ENCODED,v).replace(c.NOT_QUERY,U).replace(c.PCT_ENCODED,a)),p.fragment!==void 0&&(p.fragment=String(p.fragment).replace(c.PCT_ENCODED,v).replace(c.NOT_FRAGMENT,U).replace(c.PCT_ENCODED,a)),p}function de(p){return p.replace(/^0*(.*)/,"$1")||"0"}function Ge(p,c){var v=p.match(c.IPV4ADDRESS)||[],P=O(v,2),w=P[1];return w?w.split(".").map(de).join("."):p}function zt(p,c){var v=p.match(c.IPV6ADDRESS)||[],P=O(v,3),w=P[1],k=P[2];if(w){for(var q=w.toLowerCase().split("::").reverse(),ee=O(q,2),ae=ee[0],pe=ee[1],Q=pe?pe.split(":").map(de):[],ne=ae.split(":").map(de),me=c.IPV4ADDRESS.test(ne[ne.length-1]),G=me?7:8,oe=ne.length-G,ge=Array(G),le=0;le<G;++le)ge[le]=Q[le]||ne[oe+le]||"";me&&(ge[G-1]=Ge(ge[G-1],c));var dt=ge.reduce(function(Ce,Ye,Ft){if(!Ye||Ye==="0"){var nt=Ce[Ce.length-1];nt&&nt.index+nt.length===Ft?nt.length++:Ce.push({index:Ft,length:1})}return Ce},[]),Xe=dt.sort(function(Ce,Ye){return Ye.length-Ce.length})[0],We=void 0;if(Xe&&Xe.length>1){var Wt=ge.slice(0,Xe.index),Tt=ge.slice(Xe.index+Xe.length);We=Wt.join(":")+"::"+Tt.join(":")}else We=ge.join(":");return k&&(We+="%"+k),We}else return p}var Sr=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,wr="".match(/(){0}/)[1]===void 0;function Pe(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v={},P=c.iri!==!1?g:d;c.reference==="suffix"&&(p=(c.scheme?c.scheme+":":"")+"//"+p);var w=p.match(Sr);if(w){wr?(v.scheme=w[1],v.userinfo=w[3],v.host=w[4],v.port=parseInt(w[5],10),v.path=w[6]||"",v.query=w[7],v.fragment=w[8],isNaN(v.port)&&(v.port=w[5])):(v.scheme=w[1]||void 0,v.userinfo=p.indexOf("@")!==-1?w[3]:void 0,v.host=p.indexOf("//")!==-1?w[4]:void 0,v.port=parseInt(w[5],10),v.path=w[6]||"",v.query=p.indexOf("?")!==-1?w[7]:void 0,v.fragment=p.indexOf("#")!==-1?w[8]:void 0,isNaN(v.port)&&(v.port=p.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?w[4]:void 0)),v.host&&(v.host=zt(Ge(v.host,P),P)),v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&!v.path&&v.query===void 0?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==v.reference&&(v.error=v.error||"URI is not a "+c.reference+" reference.");var k=H[(c.scheme||v.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!k||!k.unicodeSupport)){if(v.host&&(c.domainHost||k&&k.domainHost))try{v.host=C.toASCII(v.host.replace(P.PCT_ENCODED,Y).toLowerCase())}catch(q){v.error=v.error||"Host's domain name can not be converted to ASCII via punycode: "+q}Z(v,d)}else Z(v,P);k&&k.parse&&k.parse(v,c)}else v.error=v.error||"URI can not be parsed.";return v}function Pr(p,c){var v=c.iri!==!1?g:d,P=[];return p.userinfo!==void 0&&(P.push(p.userinfo),P.push("@")),p.host!==void 0&&P.push(zt(Ge(String(p.host),v),v).replace(v.IPV6ADDRESS,function(w,k,q){return"["+k+(q?"%25"+q:"")+"]"})),(typeof p.port=="number"||typeof p.port=="string")&&(P.push(":"),P.push(String(p.port))),P.length?P.join(""):void 0}var Kt=/^\.\.?\//,Gt=/^\/\.(\/|$)/,Bt=/^\/\.\.(\/|$)/,Or=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(p){for(var c=[];p.length;)if(p.match(Kt))p=p.replace(Kt,"");else if(p.match(Gt))p=p.replace(Gt,"/");else if(p.match(Bt))p=p.replace(Bt,"/"),c.pop();else if(p==="."||p==="..")p="";else{var v=p.match(Or);if(v){var P=v[0];p=p.slice(P.length),c.push(P)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function we(p){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=c.iri?g:d,P=[],w=H[(c.scheme||p.scheme||"").toLowerCase()];if(w&&w.serialize&&w.serialize(p,c),p.host&&!v.IPV6ADDRESS.test(p.host)){if(c.domainHost||w&&w.domainHost)try{p.host=c.iri?C.toUnicode(p.host):C.toASCII(p.host.replace(v.PCT_ENCODED,Y).toLowerCase())}catch(ee){p.error=p.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+ee}}Z(p,v),c.reference!=="suffix"&&p.scheme&&(P.push(p.scheme),P.push(":"));var k=Pr(p,c);if(k!==void 0&&(c.reference!=="suffix"&&P.push("//"),P.push(k),p.path&&p.path.charAt(0)!=="/"&&P.push("/")),p.path!==void 0){var q=p.path;!c.absolutePath&&(!w||!w.absolutePath)&&(q=Be(q)),k===void 0&&(q=q.replace(/^\/\//,"/%2F")),P.push(q)}return p.query!==void 0&&(P.push("?"),P.push(p.query)),p.fragment!==void 0&&(P.push("#"),P.push(p.fragment)),P.join("")}function Jt(p,c){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments[3],w={};return P||(p=Pe(we(p,v),v),c=Pe(we(c,v),v)),v=v||{},!v.tolerant&&c.scheme?(w.scheme=c.scheme,w.userinfo=c.userinfo,w.host=c.host,w.port=c.port,w.path=Be(c.path||""),w.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(w.userinfo=c.userinfo,w.host=c.host,w.port=c.port,w.path=Be(c.path||""),w.query=c.query):(c.path?(c.path.charAt(0)==="/"?w.path=Be(c.path):((p.userinfo!==void 0||p.host!==void 0||p.port!==void 0)&&!p.path?w.path="/"+c.path:p.path?w.path=p.path.slice(0,p.path.lastIndexOf("/")+1)+c.path:w.path=c.path,w.path=Be(w.path)),w.query=c.query):(w.path=p.path,c.query!==void 0?w.query=c.query:w.query=p.query),w.userinfo=p.userinfo,w.host=p.host,w.port=p.port),w.scheme=p.scheme),w.fragment=c.fragment,w}function Tr(p,c,v){var P=u({scheme:"null"},v);return we(Jt(Pe(p,P),Pe(c,P),P,!0),P)}function Pt(p,c){return typeof p=="string"?p=we(Pe(p,c),c):i(p)==="object"&&(p=Pe(we(p,c),c)),p}function Fr(p,c,v){return typeof p=="string"?p=we(Pe(p,v),v):i(p)==="object"&&(p=we(p,v)),typeof c=="string"?c=we(Pe(c,v),v):i(c)==="object"&&(c=we(c,v)),p===c}function dn(p,c){return p&&p.toString().replace(!c||!c.iri?d.ESCAPE:g.ESCAPE,U)}function Ae(p,c){return p&&p.toString().replace(!c||!c.iri?d.PCT_ENCODED:g.PCT_ENCODED,Y)}var Ot={scheme:"http",domainHost:!0,parse:function(c,v){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,v){var P=String(c.scheme).toLowerCase()==="https";return(c.port===(P?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}},eo={scheme:"https",domainHost:Ot.domainHost,parse:Ot.parse,serialize:Ot.serialize};function to(p){return typeof p.secure=="boolean"?p.secure:String(p.scheme).toLowerCase()==="wss"}var Ar={scheme:"ws",domainHost:!0,parse:function(c,v){var P=c;return P.secure=to(P),P.resourceName=(P.path||"/")+(P.query?"?"+P.query:""),P.path=void 0,P.query=void 0,P},serialize:function(c,v){if((c.port===(to(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var P=c.resourceName.split("?"),w=O(P,2),k=w[0],q=w[1];c.path=k&&k!=="/"?k:void 0,c.query=q,c.resourceName=void 0}return c.fragment=void 0,c}},ro={scheme:"wss",domainHost:Ar.domainHost,parse:Ar.parse,serialize:Ar.serialize},sy={},no="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Je="[0-9A-Fa-f]",iy=s(s("%[EFef]"+Je+"%"+Je+Je+"%"+Je+Je)+"|"+s("%[89A-Fa-f]"+Je+"%"+Je+Je)+"|"+s("%"+Je+Je)),ay="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",oy="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",ly=n(oy,'[\\"\\\\]'),cy="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",uy=new RegExp(no,"g"),Xt=new RegExp(iy,"g"),fy=new RegExp(n("[^]",ay,"[\\.]",'[\\"]',ly),"g"),so=new RegExp(n("[^]",no,cy),"g"),dy=so;function Js(p){var c=Y(p);return c.match(uy)?c:p}var io={scheme:"mailto",parse:function(c,v){var P=c,w=P.to=P.path?P.path.split(","):[];if(P.path=void 0,P.query){for(var k=!1,q={},ee=P.query.split("&"),ae=0,pe=ee.length;ae<pe;++ae){var Q=ee[ae].split("=");switch(Q[0]){case"to":for(var ne=Q[1].split(","),me=0,G=ne.length;me<G;++me)w.push(ne[me]);break;case"subject":P.subject=Ae(Q[1],v);break;case"body":P.body=Ae(Q[1],v);break;default:k=!0,q[Ae(Q[0],v)]=Ae(Q[1],v);break}}k&&(P.headers=q)}P.query=void 0;for(var oe=0,ge=w.length;oe<ge;++oe){var le=w[oe].split("@");if(le[0]=Ae(le[0]),v.unicodeSupport)le[1]=Ae(le[1],v).toLowerCase();else try{le[1]=C.toASCII(Ae(le[1],v).toLowerCase())}catch(dt){P.error=P.error||"Email address's domain name can not be converted to ASCII via punycode: "+dt}w[oe]=le.join("@")}return P},serialize:function(c,v){var P=c,w=l(c.to);if(w){for(var k=0,q=w.length;k<q;++k){var ee=String(w[k]),ae=ee.lastIndexOf("@"),pe=ee.slice(0,ae).replace(Xt,Js).replace(Xt,a).replace(fy,U),Q=ee.slice(ae+1);try{Q=v.iri?C.toUnicode(Q):C.toASCII(Ae(Q,v).toLowerCase())}catch(oe){P.error=P.error||"Email address's domain name can not be converted to "+(v.iri?"Unicode":"ASCII")+" via punycode: "+oe}w[k]=pe+"@"+Q}P.path=w.join(",")}var ne=c.headers=c.headers||{};c.subject&&(ne.subject=c.subject),c.body&&(ne.body=c.body);var me=[];for(var G in ne)ne[G]!==sy[G]&&me.push(G.replace(Xt,Js).replace(Xt,a).replace(so,U)+"="+ne[G].replace(Xt,Js).replace(Xt,a).replace(dy,U));return me.length&&(P.query=me.join("&")),P}},hy=/^([^\:]+)\:(.*)/,ao={scheme:"urn",parse:function(c,v){var P=c.path&&c.path.match(hy),w=c;if(P){var k=v.scheme||w.scheme||"urn",q=P[1].toLowerCase(),ee=P[2],ae=k+":"+(v.nid||q),pe=H[ae];w.nid=q,w.nss=ee,w.path=void 0,pe&&(w=pe.parse(w,v))}else w.error=w.error||"URN can not be parsed.";return w},serialize:function(c,v){var P=v.scheme||c.scheme||"urn",w=c.nid,k=P+":"+(v.nid||w),q=H[k];q&&(c=q.serialize(c,v));var ee=c,ae=c.nss;return ee.path=(w||v.nid)+":"+ae,ee}},py=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,oo={scheme:"urn:uuid",parse:function(c,v){var P=c;return P.uuid=P.nss,P.nss=void 0,!v.tolerant&&(!P.uuid||!P.uuid.match(py))&&(P.error=P.error||"UUID is not valid."),P},serialize:function(c,v){var P=c;return P.nss=(c.uuid||"").toLowerCase(),P}};H[Ot.scheme]=Ot,H[eo.scheme]=eo,H[Ar.scheme]=Ar,H[ro.scheme]=ro,H[io.scheme]=io,H[ao.scheme]=ao,H[oo.scheme]=oo,r.SCHEMES=H,r.pctEncChar=U,r.pctDecChars=Y,r.parse=Pe,r.removeDotSegments=Be,r.serialize=we,r.resolveComponents=Jt,r.resolve=Tr,r.normalize=Pt,r.equal=Fr,r.escapeComponent=dn,r.unescapeComponent=Ae,Object.defineProperty(r,"__esModule",{value:!0})})})(ls,ls.exports),Object.defineProperty(os,"__esModule",{value:!0});const Aa=ls.exports;Aa.code='require("ajv/dist/runtime/uri").default',os.default=Aa,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ve;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Xr,s=Wr,i=yt,a=be,l=J,u=ye,f=dr,d=te,g=hv,O=os,A=(R,$)=>new RegExp(R,$);A.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],j=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},E=200;function T(R){var $,M,S,o,m,C,H,U,Y,Z,de,Ge,zt,Sr,wr,Pe,Pr,Kt,Gt,Bt,Or,Be,we,Jt,Tr;const Pt=R.strict,Fr=($=R.code)===null||$===void 0?void 0:$.optimize,dn=Fr===!0||Fr===void 0?1:Fr||0,Ae=(S=(M=R.code)===null||M===void 0?void 0:M.regExp)!==null&&S!==void 0?S:A,Ot=(o=R.uriResolver)!==null&&o!==void 0?o:O.default;return{strictSchema:(C=(m=R.strictSchema)!==null&&m!==void 0?m:Pt)!==null&&C!==void 0?C:!0,strictNumbers:(U=(H=R.strictNumbers)!==null&&H!==void 0?H:Pt)!==null&&U!==void 0?U:!0,strictTypes:(Z=(Y=R.strictTypes)!==null&&Y!==void 0?Y:Pt)!==null&&Z!==void 0?Z:"log",strictTuples:(Ge=(de=R.strictTuples)!==null&&de!==void 0?de:Pt)!==null&&Ge!==void 0?Ge:"log",strictRequired:(Sr=(zt=R.strictRequired)!==null&&zt!==void 0?zt:Pt)!==null&&Sr!==void 0?Sr:!1,code:R.code?ue(D({},R.code),{optimize:dn,regExp:Ae}):{optimize:dn,regExp:Ae},loopRequired:(wr=R.loopRequired)!==null&&wr!==void 0?wr:E,loopEnum:(Pe=R.loopEnum)!==null&&Pe!==void 0?Pe:E,meta:(Pr=R.meta)!==null&&Pr!==void 0?Pr:!0,messages:(Kt=R.messages)!==null&&Kt!==void 0?Kt:!0,inlineRefs:(Gt=R.inlineRefs)!==null&&Gt!==void 0?Gt:!0,schemaId:(Bt=R.schemaId)!==null&&Bt!==void 0?Bt:"$id",addUsedSchema:(Or=R.addUsedSchema)!==null&&Or!==void 0?Or:!0,validateSchema:(Be=R.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(we=R.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(Jt=R.unicodeRegExp)!==null&&Jt!==void 0?Jt:!0,int32range:(Tr=R.int32range)!==null&&Tr!==void 0?Tr:!0,uriResolver:Ot}}class V{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts=D(D({},$),T($));const{es5:M,lines:S}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:j,es5:M,lines:S}),this.logger=x($.logger);const o=$.validateFormats;$.validateFormats=!1,this.RULES=(0,i.getRules)(),N.call(this,y,$,"NOT SUPPORTED"),N.call(this,h,$,"DEPRECATED","warn"),this._metaOpts=W.call(this),$.formats&&I.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&K.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),F.call(this),$.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:M,schemaId:S}=this.opts;let o=g;S==="id"&&(o=D({},g),o.id=o.$id,delete o.$id),M&&$&&this.addMetaSchema(o,o[S],!1)}defaultMeta(){const{meta:$,schemaId:M}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[M]||$:void 0}validate($,M){let S;if(typeof $=="string"){if(S=this.getSchema($),!S)throw new Error(`no schema with key or ref "${$}"`)}else S=this.compile($);const o=S(M);return"$async"in S||(this.errors=S.errors),o}compile($,M){const S=this._addSchema($,M);return S.validate||this._compileSchemaEnv(S)}compileAsync($,M){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return o.call(this,$,M);async function o(Z,de){await m.call(this,Z.$schema);const Ge=this._addSchema(Z,de);return Ge.validate||C.call(this,Ge)}async function m(Z){Z&&!this.getSchema(Z)&&await o.call(this,{$ref:Z},!0)}async function C(Z){try{return this._compileSchemaEnv(Z)}catch(de){if(!(de instanceof s.default))throw de;return H.call(this,de),await U.call(this,de.missingSchema),C.call(this,Z)}}function H({missingSchema:Z,missingRef:de}){if(this.refs[Z])throw new Error(`AnySchema ${Z} is loaded but ${de} cannot be resolved`)}async function U(Z){const de=await Y.call(this,Z);this.refs[Z]||await m.call(this,de.$schema),this.refs[Z]||this.addSchema(de,Z,M)}async function Y(Z){const de=this._loading[Z];if(de)return de;try{return await(this._loading[Z]=S(Z))}finally{delete this._loading[Z]}}}addSchema($,M,S,o=this.opts.validateSchema){if(Array.isArray($)){for(const C of $)this.addSchema(C,void 0,S,o);return this}let m;if(typeof $=="object"){const{schemaId:C}=this.opts;if(m=$[C],m!==void 0&&typeof m!="string")throw new Error(`schema ${C} must be string`)}return M=(0,u.normalizeId)(M||m),this._checkUnique(M),this.schemas[M]=this._addSchema($,S,M,o,!0),this}addMetaSchema($,M,S=this.opts.validateSchema){return this.addSchema($,M,!0,S),this}validateSchema($,M){if(typeof $=="boolean")return!0;let S;if(S=$.$schema,S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(S,$);if(!o&&M){const m="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(m);else throw new Error(m)}return o}getSchema($){let M;for(;typeof(M=b.call(this,$))=="string";)$=M;if(M===void 0){const{schemaId:S}=this.opts,o=new a.SchemaEnv({schema:{},schemaId:S});if(M=a.resolveSchema.call(this,o,$),!M)return;this.refs[$]=M}return M.validate||this._compileSchemaEnv(M)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const M=b.call(this,$);return typeof M=="object"&&this._cache.delete(M.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const M=$;this._cache.delete(M);let S=$[this.opts.schemaId];return S&&(S=(0,u.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const M of $)this.addKeyword(M);return this}addKeyword($,M){let S;if(typeof $=="string")S=$,typeof M=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),M.keyword=S);else if(typeof $=="object"&&M===void 0){if(M=$,S=M.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ve.call(this,S,M),!M)return(0,d.eachItem)(S,m=>St.call(this,m)),this;kt.call(this,M);const o=ue(D({},M),{type:(0,f.getJSONTypes)(M.type),schemaType:(0,f.getJSONTypes)(M.schemaType)});return(0,d.eachItem)(S,o.type.length===0?m=>St.call(this,m,o):m=>o.type.forEach(C=>St.call(this,m,o,C))),this}getKeyword($){const M=this.RULES.all[$];return typeof M=="object"?M.definition:!!M}removeKeyword($){const{RULES:M}=this;delete M.keywords[$],delete M.all[$];for(const S of M.rules){const o=S.rules.findIndex(m=>m.keyword===$);o>=0&&S.rules.splice(o,1)}return this}addFormat($,M){return typeof M=="string"&&(M=new RegExp(M)),this.formats[$]=M,this}errorsText($=this.errors,{separator:M=", ",dataVar:S="data"}={}){return!$||$.length===0?"No errors":$.map(o=>`${S}${o.instancePath} ${o.message}`).reduce((o,m)=>o+M+m)}$dataMetaSchema($,M){const S=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const o of M){const m=o.split("/").slice(1);let C=$;for(const H of m)C=C[H];for(const H in S){const U=S[H];if(typeof U!="object")continue;const{$data:Y}=U.definition,Z=C[H];Y&&Z&&(C[H]=qt(Z))}}return $}_removeAllSchemas($,M){for(const S in $){const o=$[S];(!M||M.test(S))&&(typeof o=="string"?delete $[S]:o&&!o.meta&&(this._cache.delete(o.schema),delete $[S]))}}_addSchema($,M,S,o=this.opts.validateSchema,m=this.opts.addUsedSchema){let C;const{schemaId:H}=this.opts;if(typeof $=="object")C=$[H];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let U=this._cache.get($);if(U!==void 0)return U;S=(0,u.normalizeId)(C||S);const Y=u.getSchemaRefs.call(this,$,S);return U=new a.SchemaEnv({schema:$,schemaId:H,meta:M,baseId:S,localRefs:Y}),this._cache.set(U.schema,U),m&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=U),o&&this.validateSchema($,!0),U}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):a.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const M=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,$)}finally{this.opts=M}}}e.default=V,V.ValidationError=n.default,V.MissingRefError=s.default;function N(R,$,M,S="error"){for(const o in R){const m=o;m in $&&this.logger[S](`${M}: option ${o}. ${R[m]}`)}}function b(R){return R=(0,u.normalizeId)(R),this.schemas[R]||this.refs[R]}function F(){const R=this.opts.schemas;if(!!R)if(Array.isArray(R))this.addSchema(R);else for(const $ in R)this.addSchema(R[$],$)}function I(){for(const R in this.opts.formats){const $=this.opts.formats[R];$&&this.addFormat(R,$)}}function K(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in R){const M=R[$];M.keyword||(M.keyword=$),this.addKeyword(M)}}function W(){const R=D({},this.opts);for(const $ of _)delete R[$];return R}const ce={log(){},warn(){},error(){}};function x(R){if(R===!1)return ce;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const Fe=/^[a-z_$][a-z0-9_$:-]*$/i;function ve(R,$){const{RULES:M}=this;if((0,d.eachItem)(R,S=>{if(M.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!Fe.test(S))throw new Error(`Keyword ${S} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function St(R,$,M){var S;const o=$==null?void 0:$.post;if(M&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:m}=this;let C=o?m.post:m.rules.find(({type:U})=>U===M);if(C||(C={type:M,rules:[]},m.rules.push(C)),m.keywords[R]=!0,!$)return;const H={keyword:R,definition:ue(D({},$),{type:(0,f.getJSONTypes)($.type),schemaType:(0,f.getJSONTypes)($.schemaType)})};$.before?wt.call(this,C,H,$.before):C.rules.push(H),m.all[R]=H,(S=$.implements)===null||S===void 0||S.forEach(U=>this.addKeyword(U))}function wt(R,$,M){const S=R.rules.findIndex(o=>o.keyword===M);S>=0?R.rules.splice(S,0,$):(R.rules.push($),this.logger.warn(`rule ${M} is not defined`))}function kt(R){let{metaSchema:$}=R;$!==void 0&&(R.$data&&this.opts.$data&&($=qt($)),R.validateSchema=this.compile($,!0))}const br={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function qt(R){return{anyOf:[R,br]}}}(Zi);var cs={},us={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});const pv={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};fs.default=pv;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.callRef=jt.getValidate=void 0;const mv=Wr,Ca=X,Se=J,Rt=qe,Va=be,Zr=te,vv={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:i,validateName:a,opts:l,self:u}=n,{root:f}=i;if((r==="#"||r==="#/")&&s===f.baseId)return g();const d=Va.resolveRef.call(u,f,s,r);if(d===void 0)throw new mv.default(n.opts.uriResolver,s,r);if(d instanceof Va.SchemaEnv)return O(d);return A(d);function g(){if(i===f)return xr(e,a,i,i.$async);const _=t.scopeValue("root",{ref:f});return xr(e,(0,Se._)`${_}.validate`,f,f.$async)}function O(_){const j=Ma(e,_);xr(e,j,_,_.$async)}function A(_){const j=t.scopeValue("schema",l.code.source===!0?{ref:_,code:(0,Se.stringify)(_)}:{ref:_}),y=t.name("valid"),h=e.subschema({schema:_,dataTypes:[],schemaPath:Se.nil,topSchemaRef:j,errSchemaPath:r},y);e.mergeEvaluated(h),e.ok(y)}}};function Ma(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Se._)`${r.scopeValue("wrapper",{ref:t})}.validate`}jt.getValidate=Ma;function xr(e,t,r,n){const{gen:s,it:i}=e,{allErrors:a,schemaEnv:l,opts:u}=i,f=u.passContext?Rt.default.this:Se.nil;n?d():g();function d(){if(!l.$async)throw new Error("async schema referenced by sync schema");const _=s.let("valid");s.try(()=>{s.code((0,Se._)`await ${(0,Ca.callValidateCode)(e,t,f)}`),A(t),a||s.assign(_,!0)},j=>{s.if((0,Se._)`!(${j} instanceof ${i.ValidationError})`,()=>s.throw(j)),O(j),a||s.assign(_,!1)}),e.ok(_)}function g(){e.result((0,Ca.callValidateCode)(e,t,f),()=>A(t),()=>O(t))}function O(_){const j=(0,Se._)`${_}.errors`;s.assign(Rt.default.vErrors,(0,Se._)`${Rt.default.vErrors} === null ? ${j} : ${Rt.default.vErrors}.concat(${j})`),s.assign(Rt.default.errors,(0,Se._)`${Rt.default.vErrors}.length`)}function A(_){var j;if(!i.opts.unevaluated)return;const y=(j=r==null?void 0:r.validate)===null||j===void 0?void 0:j.evaluated;if(i.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(i.props=Zr.mergeEvaluated.props(s,y.props,i.props));else{const h=s.var("props",(0,Se._)`${_}.evaluated.props`);i.props=Zr.mergeEvaluated.props(s,h,i.props,Se.Name)}if(i.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(i.items=Zr.mergeEvaluated.items(s,y.items,i.items));else{const h=s.var("items",(0,Se._)`${_}.evaluated.items`);i.items=Zr.mergeEvaluated.items(s,h,i.items,Se.Name)}}}jt.callRef=xr,jt.default=vv,Object.defineProperty(us,"__esModule",{value:!0});const gv=fs,yv=jt,$v=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",gv.default,yv.default];us.default=$v;var ds={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});const en=J,ft=en.operators,tn={maximum:{okStr:"<=",ok:ft.LTE,fail:ft.GT},minimum:{okStr:">=",ok:ft.GTE,fail:ft.LT},exclusiveMaximum:{okStr:"<",ok:ft.LT,fail:ft.GTE},exclusiveMinimum:{okStr:">",ok:ft.GT,fail:ft.LTE}},_v={message:({keyword:e,schemaCode:t})=>(0,en.str)`must be ${tn[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,en._)`{comparison: ${tn[e].okStr}, limit: ${t}}`},jv={keyword:Object.keys(tn),type:"number",schemaType:"number",$data:!0,error:_v,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,en._)`${r} ${tn[t].fail} ${n} || isNaN(${r})`)}};hs.default=jv;var ps={};Object.defineProperty(ps,"__esModule",{value:!0});const mr=J,Ev={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,mr.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,mr._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:s}=e,i=s.opts.multipleOfPrecision,a=t.let("res"),l=i?(0,mr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,mr._)`${a} !== parseInt(${a})`;e.fail$data((0,mr._)`(${n} === 0 || (${a} = ${r}/${n}, ${l}))`)}};ps.default=Ev;var ms={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});function Na(e){const t=e.length;let r=0,n=0,s;for(;n<t;)r++,s=e.charCodeAt(n++),s>=55296&&s<=56319&&n<t&&(s=e.charCodeAt(n),(s&64512)===56320&&n++);return r}vs.default=Na,Na.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(ms,"__esModule",{value:!0});const Et=J,bv=te,Sv=vs,wv={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Et.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Et._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n,it:s}=e,i=t==="maxLength"?Et.operators.GT:Et.operators.LT,a=s.opts.unicode===!1?(0,Et._)`${r}.length`:(0,Et._)`${(0,bv.useFunc)(e.gen,Sv.default)}(${r})`;e.fail$data((0,Et._)`${a} ${i} ${n}`)}};ms.default=wv;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Pv=X,rn=J,Ov={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,rn.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,rn._)`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:n,schemaCode:s,it:i}=e,a=i.opts.unicodeRegExp?"u":"",l=r?(0,rn._)`(new RegExp(${s}, ${a}))`:(0,Pv.usePattern)(e,n);e.fail$data((0,rn._)`!${l}.test(${t})`)}};gs.default=Ov;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const vr=J,Tv={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,vr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,vr._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxProperties"?vr.operators.GT:vr.operators.LT;e.fail$data((0,vr._)`Object.keys(${r}).length ${s} ${n}`)}};ys.default=Tv;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const gr=X,yr=J,Fv=te,Av={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,yr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,yr._)`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:n,data:s,$data:i,it:a}=e,{opts:l}=a;if(!i&&r.length===0)return;const u=r.length>=l.loopRequired;if(a.allErrors?f():d(),l.strictRequired){const A=e.parentSchema.properties,{definedProperties:_}=e.it;for(const j of r)if((A==null?void 0:A[j])===void 0&&!_.has(j)){const y=a.schemaEnv.baseId+a.errSchemaPath,h=`required property "${j}" is not defined at "${y}" (strictRequired)`;(0,Fv.checkStrictMode)(a,h,a.opts.strictRequired)}}function f(){if(u||i)e.block$data(yr.nil,g);else for(const A of r)(0,gr.checkReportMissingProp)(e,A)}function d(){const A=t.let("missing");if(u||i){const _=t.let("valid",!0);e.block$data(_,()=>O(A,_)),e.ok(_)}else t.if((0,gr.checkMissingProp)(e,r,A)),(0,gr.reportMissingProp)(e,A),t.else()}function g(){t.forOf("prop",n,A=>{e.setParams({missingProperty:A}),t.if((0,gr.noPropertyInData)(t,s,A,l.ownProperties),()=>e.error())})}function O(A,_){e.setParams({missingProperty:A}),t.forOf(A,n,()=>{t.assign(_,(0,gr.propertyInData)(t,s,A,l.ownProperties)),t.if((0,yr.not)(_),()=>{e.error(),t.break()})},yr.nil)}}};$s.default=Av;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const $r=J,Cv={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,$r.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,$r._)`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,s=t==="maxItems"?$r.operators.GT:$r.operators.LT;e.fail$data((0,$r._)`${r}.length ${s} ${n}`)}};_s.default=Cv;var js={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});const Ia=la;Ia.code='require("ajv/dist/runtime/equal").default',_r.default=Ia,Object.defineProperty(js,"__esModule",{value:!0});const Es=dr,$e=J,Vv=te,Mv=_r,Nv={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,$e.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,$e._)`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:n,schema:s,parentSchema:i,schemaCode:a,it:l}=e;if(!n&&!s)return;const u=t.let("valid"),f=i.items?(0,Es.getSchemaTypes)(i.items):[];e.block$data(u,d,(0,$e._)`${a} === false`),e.ok(u);function d(){const _=t.let("i",(0,$e._)`${r}.length`),j=t.let("j");e.setParams({i:_,j}),t.assign(u,!0),t.if((0,$e._)`${_} > 1`,()=>(g()?O:A)(_,j))}function g(){return f.length>0&&!f.some(_=>_==="object"||_==="array")}function O(_,j){const y=t.name("item"),h=(0,Es.checkDataTypes)(f,y,l.opts.strictNumbers,Es.DataType.Wrong),E=t.const("indices",(0,$e._)`{}`);t.for((0,$e._)`;${_}--;`,()=>{t.let(y,(0,$e._)`${r}[${_}]`),t.if(h,(0,$e._)`continue`),f.length>1&&t.if((0,$e._)`typeof ${y} == "string"`,(0,$e._)`${y} += "_"`),t.if((0,$e._)`typeof ${E}[${y}] == "number"`,()=>{t.assign(j,(0,$e._)`${E}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,$e._)`${E}[${y}] = ${_}`)})}function A(_,j){const y=(0,Vv.useFunc)(t,Mv.default),h=t.name("outer");t.label(h).for((0,$e._)`;${_}--;`,()=>t.for((0,$e._)`${j} = ${_}; ${j}--;`,()=>t.if((0,$e._)`${y}(${r}[${_}], ${r}[${j}])`,()=>{e.error(),t.assign(u,!1).break(h)})))}}};js.default=Nv;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const Ss=J,Iv=te,Rv=_r,Dv={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,Ss._)`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:n,schemaCode:s,schema:i}=e;n||i&&typeof i=="object"?e.fail$data((0,Ss._)`!${(0,Iv.useFunc)(t,Rv.default)}(${r}, ${s})`):e.fail((0,Ss._)`${i} !== ${r}`)}};bs.default=Dv;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const jr=J,Hv=te,Uv=_r,Lv={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,jr._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:n,schema:s,schemaCode:i,it:a}=e;if(!n&&s.length===0)throw new Error("enum must have non-empty array");const l=s.length>=a.opts.loopEnum;let u;const f=()=>u!=null?u:u=(0,Hv.useFunc)(t,Uv.default);let d;if(l||n)d=t.let("valid"),e.block$data(d,g);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const A=t.const("vSchema",i);d=(0,jr.or)(...s.map((_,j)=>O(A,j)))}e.pass(d);function g(){t.assign(d,!1),t.forOf("v",i,A=>t.if((0,jr._)`${f()}(${r}, ${A})`,()=>t.assign(d,!0).break()))}function O(A,_){const j=s[_];return typeof j=="object"&&j!==null?(0,jr._)`${f()}(${r}, ${A}[${_}])`:(0,jr._)`${r} === ${j}`}}};ws.default=Lv,Object.defineProperty(ds,"__esModule",{value:!0});const kv=hs,qv=ps,zv=ms,Kv=gs,Gv=ys,Bv=$s,Jv=_s,Xv=js,Wv=bs,Yv=ws,Qv=[kv.default,qv.default,zv.default,Kv.default,Gv.default,Bv.default,Jv.default,Xv.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Wv.default,Yv.default];ds.default=Qv;var Ps={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.validateAdditionalItems=void 0;const bt=J,Os=te,Zv={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,bt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,bt._)`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Os.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ra(e,n)}};function Ra(e,t){const{gen:r,schema:n,data:s,keyword:i,it:a}=e;a.items=!0;const l=r.const("len",(0,bt._)`${s}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,bt._)`${l} <= ${t.length}`);else if(typeof n=="object"&&!(0,Os.alwaysValidSchema)(a,n)){const f=r.var("valid",(0,bt._)`${l} <= ${t.length}`);r.if((0,bt.not)(f),()=>u(f)),e.ok(f)}function u(f){r.forRange("i",t.length,l,d=>{e.subschema({keyword:i,dataProp:d,dataPropType:Os.Type.Num},f),a.allErrors||r.if((0,bt.not)(f),()=>r.break())})}}Dt.validateAdditionalItems=Ra,Dt.default=Zv;var Ts={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.validateTuple=void 0;const Da=J,nn=te,xv=X,eg={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return Ha(e,"additionalItems",t);r.items=!0,!(0,nn.alwaysValidSchema)(r,t)&&e.ok((0,xv.validateArray)(e))}};function Ha(e,t,r=e.schema){const{gen:n,parentSchema:s,data:i,keyword:a,it:l}=e;d(s),l.opts.unevaluated&&r.length&&l.items!==!0&&(l.items=nn.mergeEvaluated.items(n,r.length,l.items));const u=n.name("valid"),f=n.const("len",(0,Da._)`${i}.length`);r.forEach((g,O)=>{(0,nn.alwaysValidSchema)(l,g)||(n.if((0,Da._)`${f} > ${O}`,()=>e.subschema({keyword:a,schemaProp:O,dataProp:O},u)),e.ok(u))});function d(g){const{opts:O,errSchemaPath:A}=l,_=r.length,j=_===g.minItems&&(_===g.maxItems||g[t]===!1);if(O.strictTuples&&!j){const y=`"${a}" is ${_}-tuple, but minItems or maxItems/${t} are not specified or different at path "${A}"`;(0,nn.checkStrictMode)(l,y,O.strictTuples)}}}Ht.validateTuple=Ha,Ht.default=eg,Object.defineProperty(Ts,"__esModule",{value:!0});const tg=Ht,rg={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,tg.validateTuple)(e,"items")};Ts.default=rg;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});const Ua=J,ng=te,sg=X,ig=Dt,ag={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,Ua.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ua._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:s}=r;n.items=!0,!(0,ng.alwaysValidSchema)(n,t)&&(s?(0,ig.validateAdditionalItems)(e,s):e.ok((0,sg.validateArray)(e)))}};Fs.default=ag;var As={};Object.defineProperty(As,"__esModule",{value:!0});const Te=J,sn=te,og={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>t===void 0?(0,Te.str)`must contain at least ${e} valid item(s)`:(0,Te.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Te._)`{minContains: ${e}}`:(0,Te._)`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;let a,l;const{minContains:u,maxContains:f}=n;i.opts.next?(a=u===void 0?1:u,l=f):a=1;const d=t.const("len",(0,Te._)`${s}.length`);if(e.setParams({min:a,max:l}),l===void 0&&a===0){(0,sn.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(l!==void 0&&a>l){(0,sn.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,sn.alwaysValidSchema)(i,r)){let j=(0,Te._)`${d} >= ${a}`;l!==void 0&&(j=(0,Te._)`${j} && ${d} <= ${l}`),e.pass(j);return}i.items=!0;const g=t.name("valid");l===void 0&&a===1?A(g,()=>t.if(g,()=>t.break())):a===0?(t.let(g,!0),l!==void 0&&t.if((0,Te._)`${s}.length > 0`,O)):(t.let(g,!1),O()),e.result(g,()=>e.reset());function O(){const j=t.name("_valid"),y=t.let("count",0);A(j,()=>t.if(j,()=>_(y)))}function A(j,y){t.forRange("i",0,d,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:sn.Type.Num,compositeRule:!0},j),y()})}function _(j){t.code((0,Te._)`${j}++`),l===void 0?t.if((0,Te._)`${j} >= ${a}`,()=>t.assign(g,!0).break()):(t.if((0,Te._)`${j} > ${l}`,()=>t.assign(g,!1).break()),a===1?t.assign(g,!0):t.if((0,Te._)`${j} >= ${a}`,()=>t.assign(g,!0)))}}};As.default=og;var La={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J,r=te,n=X;e.error={message:({params:{property:u,depsCount:f,deps:d}})=>{const g=f===1?"property":"properties";return(0,t.str)`must have ${g} ${d} when property ${u} is present`},params:({params:{property:u,depsCount:f,deps:d,missingProperty:g}})=>(0,t._)`{property: ${u},
    missingProperty: ${g},
    depsCount: ${f},
    deps: ${d}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[f,d]=i(u);a(u,f),l(u,d)}};function i({schema:u}){const f={},d={};for(const g in u){if(g==="__proto__")continue;const O=Array.isArray(u[g])?f:d;O[g]=u[g]}return[f,d]}function a(u,f=u.schema){const{gen:d,data:g,it:O}=u;if(Object.keys(f).length===0)return;const A=d.let("missing");for(const _ in f){const j=f[_];if(j.length===0)continue;const y=(0,n.propertyInData)(d,g,_,O.opts.ownProperties);u.setParams({property:_,depsCount:j.length,deps:j.join(", ")}),O.allErrors?d.if(y,()=>{for(const h of j)(0,n.checkReportMissingProp)(u,h)}):(d.if((0,t._)`${y} && (${(0,n.checkMissingProp)(u,j,A)})`),(0,n.reportMissingProp)(u,A),d.else())}}e.validatePropertyDeps=a;function l(u,f=u.schema){const{gen:d,data:g,keyword:O,it:A}=u,_=d.name("valid");for(const j in f)(0,r.alwaysValidSchema)(A,f[j])||(d.if((0,n.propertyInData)(d,g,j,A.opts.ownProperties),()=>{const y=u.subschema({keyword:O,schemaProp:j},_);u.mergeValidEvaluated(y,_)},()=>d.var(_,!0)),u.ok(_))}e.validateSchemaDeps=l,e.default=s})(La);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const ka=J,lg=te,cg={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,ka._)`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:n,it:s}=e;if((0,lg.alwaysValidSchema)(s,r))return;const i=t.name("valid");t.forIn("key",n,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,ka.not)(i),()=>{e.error(!0),s.allErrors||t.break()})}),e.ok(i)}};Cs.default=cg;var an={};Object.defineProperty(an,"__esModule",{value:!0});const on=X,Ie=J,ug=qe,ln=te,fg={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,Ie._)`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:n,data:s,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:l,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,ln.alwaysValidSchema)(a,r))return;const f=(0,on.allSchemaProperties)(n.properties),d=(0,on.allSchemaProperties)(n.patternProperties);g(),e.ok((0,Ie._)`${i} === ${ug.default.errors}`);function g(){t.forIn("key",s,y=>{!f.length&&!d.length?_(y):t.if(O(y),()=>_(y))})}function O(y){let h;if(f.length>8){const E=(0,ln.schemaRefOrVal)(a,n.properties,"properties");h=(0,on.isOwnProperty)(t,E,y)}else f.length?h=(0,Ie.or)(...f.map(E=>(0,Ie._)`${y} === ${E}`)):h=Ie.nil;return d.length&&(h=(0,Ie.or)(h,...d.map(E=>(0,Ie._)`${(0,on.usePattern)(e,E)}.test(${y})`))),(0,Ie.not)(h)}function A(y){t.code((0,Ie._)`delete ${s}[${y}]`)}function _(y){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){A(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),l||t.break();return}if(typeof r=="object"&&!(0,ln.alwaysValidSchema)(a,r)){const h=t.name("valid");u.removeAdditional==="failing"?(j(y,h,!1),t.if((0,Ie.not)(h),()=>{e.reset(),A(y)})):(j(y,h),l||t.if((0,Ie.not)(h),()=>t.break()))}}function j(y,h,E){const T={keyword:"additionalProperties",dataProp:y,dataPropType:ln.Type.Str};E===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(T,h)}}};an.default=fg;var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});const dg=Ve,qa=X,Ms=te,za=an,hg={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:s,it:i}=e;i.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&za.default.code(new dg.KeywordCxt(i,za.default,"additionalProperties"));const a=(0,qa.allSchemaProperties)(r);for(const g of a)i.definedProperties.add(g);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=Ms.mergeEvaluated.props(t,(0,Ms.toHash)(a),i.props));const l=a.filter(g=>!(0,Ms.alwaysValidSchema)(i,r[g]));if(l.length===0)return;const u=t.name("valid");for(const g of l)f(g)?d(g):(t.if((0,qa.propertyInData)(t,s,g,i.opts.ownProperties)),d(g),i.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(u);function f(g){return i.opts.useDefaults&&!i.compositeRule&&r[g].default!==void 0}function d(g){e.subschema({keyword:"properties",schemaProp:g,dataProp:g},u)}}};Vs.default=hg;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const Ka=X,cn=J,Ga=te,Ba=te,pg={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:s,it:i}=e,{opts:a}=i,l=(0,Ka.allSchemaProperties)(r),u=l.filter(j=>(0,Ga.alwaysValidSchema)(i,r[j]));if(l.length===0||u.length===l.length&&(!i.opts.unevaluated||i.props===!0))return;const f=a.strictSchema&&!a.allowMatchingProperties&&s.properties,d=t.name("valid");i.props!==!0&&!(i.props instanceof cn.Name)&&(i.props=(0,Ba.evaluatedPropsToName)(t,i.props));const{props:g}=i;O();function O(){for(const j of l)f&&A(j),i.allErrors?_(j):(t.var(d,!0),_(j),t.if(d))}function A(j){for(const y in f)new RegExp(j).test(y)&&(0,Ga.checkStrictMode)(i,`property ${y} matches pattern ${j} (use allowMatchingProperties)`)}function _(j){t.forIn("key",n,y=>{t.if((0,cn._)`${(0,Ka.usePattern)(e,j)}.test(${y})`,()=>{const h=u.includes(j);h||e.subschema({keyword:"patternProperties",schemaProp:j,dataProp:y,dataPropType:Ba.Type.Str},d),i.opts.unevaluated&&g!==!0?t.assign((0,cn._)`${g}[${y}]`,!0):!h&&!i.allErrors&&t.if((0,cn.not)(d),()=>t.break())})})}}};Ns.default=pg;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const mg=te,vg={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,mg.alwaysValidSchema)(n,r)){e.fail();return}const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Is.default=vg;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const gg={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:X.validateUnion,error:{message:"must match a schema in anyOf"}};Rs.default=gg;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const un=J,yg=te,$g={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,un._)`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:n,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;const i=r,a=t.let("valid",!1),l=t.let("passing",null),u=t.name("_valid");e.setParams({passing:l}),t.block(f),e.result(a,()=>e.reset(),()=>e.error(!0));function f(){i.forEach((d,g)=>{let O;(0,yg.alwaysValidSchema)(s,d)?t.var(u,!0):O=e.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},u),g>0&&t.if((0,un._)`${u} && ${a}`).assign(a,!1).assign(l,(0,un._)`[${l}, ${g}]`).else(),t.if(u,()=>{t.assign(a,!0),t.assign(l,g),O&&e.mergeEvaluated(O,un.Name)})})}}};Ds.default=$g;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});const _g=te,jg={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const s=t.name("valid");r.forEach((i,a)=>{if((0,_g.alwaysValidSchema)(n,i))return;const l=e.subschema({keyword:"allOf",schemaProp:a},s);e.ok(s),e.mergeEvaluated(l)})}};Hs.default=jg;var Us={};Object.defineProperty(Us,"__esModule",{value:!0});const fn=J,Ja=te,Eg={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,fn.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,fn._)`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ja.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const s=Xa(n,"then"),i=Xa(n,"else");if(!s&&!i)return;const a=t.let("valid",!0),l=t.name("_valid");if(u(),e.reset(),s&&i){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(l,f("then",d),f("else",d))}else s?t.if(l,f("then")):t.if((0,fn.not)(l),f("else"));e.pass(a,()=>e.error(!0));function u(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l);e.mergeEvaluated(d)}function f(d,g){return()=>{const O=e.subschema({keyword:d},l);t.assign(a,l),e.mergeValidEvaluated(O,a),g?t.assign(g,(0,fn._)`${d}`):e.setParams({ifClause:d})}}}};function Xa(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ja.alwaysValidSchema)(e,r)}Us.default=Eg;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});const bg=te,Sg={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,bg.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Ls.default=Sg,Object.defineProperty(Ps,"__esModule",{value:!0});const wg=Dt,Pg=Ts,Og=Ht,Tg=Fs,Fg=As,Ag=La,Cg=Cs,Vg=an,Mg=Vs,Ng=Ns,Ig=Is,Rg=Rs,Dg=Ds,Hg=Hs,Ug=Us,Lg=Ls;function kg(e=!1){const t=[Ig.default,Rg.default,Dg.default,Hg.default,Ug.default,Lg.default,Cg.default,Vg.default,Ag.default,Mg.default,Ng.default];return e?t.push(Pg.default,Tg.default):t.push(wg.default,Og.default),t.push(Fg.default),t}Ps.default=kg;var ks={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});const he=J,qg={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,he.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,he._)`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:s,schema:i,schemaCode:a,it:l}=e,{opts:u,errSchemaPath:f,schemaEnv:d,self:g}=l;if(!u.validateFormats)return;s?O():A();function O(){const _=r.scopeValue("formats",{ref:g.formats,code:u.code.formats}),j=r.const("fDef",(0,he._)`${_}[${a}]`),y=r.let("fType"),h=r.let("format");r.if((0,he._)`typeof ${j} == "object" && !(${j} instanceof RegExp)`,()=>r.assign(y,(0,he._)`${j}.type || "string"`).assign(h,(0,he._)`${j}.validate`),()=>r.assign(y,(0,he._)`"string"`).assign(h,j)),e.fail$data((0,he.or)(E(),T()));function E(){return u.strictSchema===!1?he.nil:(0,he._)`${a} && !${h}`}function T(){const V=d.$async?(0,he._)`(${j}.async ? await ${h}(${n}) : ${h}(${n}))`:(0,he._)`${h}(${n})`,N=(0,he._)`(typeof ${h} == "function" ? ${V} : ${h}.test(${n}))`;return(0,he._)`${h} && ${h} !== true && ${y} === ${t} && !${N}`}}function A(){const _=g.formats[i];if(!_){E();return}if(_===!0)return;const[j,y,h]=T(_);j===t&&e.pass(V());function E(){if(u.strictSchema===!1){g.logger.warn(N());return}throw new Error(N());function N(){return`unknown format "${i}" ignored in schema at path "${f}"`}}function T(N){const b=N instanceof RegExp?(0,he.regexpCode)(N):u.code.formats?(0,he._)`${u.code.formats}${(0,he.getProperty)(i)}`:void 0,F=r.scopeValue("formats",{key:i,ref:N,code:b});return typeof N=="object"&&!(N instanceof RegExp)?[N.type||"string",N.validate,(0,he._)`${F}.validate`]:["string",N,F]}function V(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!d.$async)throw new Error("async format in sync schema");return(0,he._)`await ${h}(${n})`}return typeof y=="function"?(0,he._)`${h}(${n})`:(0,he._)`${h}.test(${n})`}}}};qs.default=qg,Object.defineProperty(ks,"__esModule",{value:!0});const zg=[qs.default];ks.default=zg;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.contentVocabulary=Ut.metadataVocabulary=void 0,Ut.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ut.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(cs,"__esModule",{value:!0});const Kg=us,Gg=ds,Bg=Ps,Jg=ks,Wa=Ut,Xg=[Kg.default,Gg.default,(0,Bg.default)(),Jg.default,Wa.metadataVocabulary,Wa.contentVocabulary];cs.default=Xg;var zs={},Ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ya),Object.defineProperty(zs,"__esModule",{value:!0});const Lt=J,Ks=Ya,Qa=be,Wg=te,Yg={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Ks.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Lt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:n,parentSchema:s,it:i}=e,{oneOf:a}=s;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const l=n.propertyName;if(typeof l!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),f=t.const("tag",(0,Lt._)`${r}${(0,Lt.getProperty)(l)}`);t.if((0,Lt._)`typeof ${f} == "string"`,()=>d(),()=>e.error(!1,{discrError:Ks.DiscrError.Tag,tag:f,tagName:l})),e.ok(u);function d(){const A=O();t.if(!1);for(const _ in A)t.elseIf((0,Lt._)`${f} === ${_}`),t.assign(u,g(A[_]));t.else(),e.error(!1,{discrError:Ks.DiscrError.Mapping,tag:f,tagName:l}),t.endIf()}function g(A){const _=t.name("valid"),j=e.subschema({keyword:"oneOf",schemaProp:A},_);return e.mergeEvaluated(j,Lt.Name),_}function O(){var A;const _={},j=h(s);let y=!0;for(let V=0;V<a.length;V++){let N=a[V];(N==null?void 0:N.$ref)&&!(0,Wg.schemaHasRulesButRef)(N,i.self.RULES)&&(N=Qa.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,N==null?void 0:N.$ref),N instanceof Qa.SchemaEnv&&(N=N.schema));const b=(A=N==null?void 0:N.properties)===null||A===void 0?void 0:A[l];if(typeof b!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${l}"`);y=y&&(j||h(N)),E(b,V)}if(!y)throw new Error(`discriminator: "${l}" must be required`);return _;function h({required:V}){return Array.isArray(V)&&V.includes(l)}function E(V,N){if(V.const)T(V.const,N);else if(V.enum)for(const b of V.enum)T(b,N);else throw new Error(`discriminator: "properties/${l}" must have "const" or "enum"`)}function T(V,N){if(typeof V!="string"||V in _)throw new Error(`discriminator: "${l}" values must be unique strings`);_[V]=N}}}};zs.default=Yg;var Qg={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Zi,n=cs,s=zs,i=Qg,a=["/properties"],l="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(O=>this.addVocabulary(O)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const O=this.opts.$data?this.$dataMetaSchema(i,a):i;this.addMetaSchema(O,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var f=Ve;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=J;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})})(Wn,Wn.exports);var Zg=qp(Wn.exports);function xg(){const{ajv:e={}}=this.vfjsOptions,{options:t={},keywords:r={},plugins:n={}}=e;if(this.ajv=new Zg(ue(D({},t),{allErrors:!0})),Object.keys(n).forEach(s=>{typeof n[s]=="function"&&n[s](this.ajv)}),Object.keys(r).forEach(s=>{this.ajv.addKeyword(s,r[s])}),Object.keys(this.schemas).forEach(s=>{this.ajv.addSchema(this.schemas[s],s)}),this.ajv.validate(this.getVfjsSchema(),{}),this.ajv.errors){const s=this.getVfjsPropertiesRequired(this.ajv.errors);this.vfjsFieldsRequired=this.getVfjsChildPropertiesRequired(s)}}const ey=D(D({vfjsValidationInitialize:xg},Hp),Lp),ty=D(D(D(D(D(D(D(D({},Oh),Jh),Kh),tp),vp),lp),Fp),ey),ry={[Kn]:{type:Object,default:()=>({})},[or]:{type:Object,default:()=>({})},[Xn]:{type:Object,required:!0,default:()=>({})},[Ad]:{type:Object,default:()=>({})},[Fd]:{type:String,default:()=>Math.random().toString(36).substring(2,11)},[Jn]:{type:Object,default:()=>({})},[Cd]:{type:String,default:"div"},[lr]:{type:Array,required:!0,default:()=>({})}},ny={[Kn](e){this.vfjsComponents=Object.assign({},e)},[or]:{deep:!0,handler(e){this.setVfjsModel(e)}},[Xn](e){this.setVfjsSchema(e)},[lr](e){this.setVfjsUiSchema(e)},[Jn](e){this.vfjsOptions=it({},this.vfjsOptions,e),this.vfjsOptions.showValidationErrors&&this.setVfjsValidationErrors()}},Za={model:{prop:or,event:Kr},created(){this.vfjsInitialize()},beforeUnmount(){this.vfjsDestroy()},emits:[Kr,Gn,Bn],computed:oh,data:lh,props:ry,methods:ty,watch:ny},Gs=ue(D({name:"vue-form-json-schema"},Za),{render(){return cr(this.tag,[...this.vfjsFields])}});function Bs(e,t={component:"vue-form-json-schema"}){Bs.installed||(Bs.installed=!0,e.component(t.component,Gs))}const xa={install:Bs};let Er=null;typeof window!="undefined"?Er=window.Vue:typeof global!="undefined"&&(Er=global.Vue),Er&&typeof Er.use=="function"&&Er.use(xa),B.default=Gs,B.vfjsField=Yi,B.vfjsFieldMixin=Wi,B.vfjsGlobal=Gs,B.vfjsGlobalMixin=Za,B.vfjsPlugin=xa,Object.defineProperties(B,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
